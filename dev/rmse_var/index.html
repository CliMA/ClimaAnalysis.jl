<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>RMSEVariables · ClimaAnalysis.jl</title><meta name="title" content="RMSEVariables · ClimaAnalysis.jl"/><meta property="og:title" content="RMSEVariables · ClimaAnalysis.jl"/><meta property="twitter:title" content="RMSEVariables · ClimaAnalysis.jl"/><meta name="description" content="Documentation for ClimaAnalysis.jl."/><meta property="og:description" content="Documentation for ClimaAnalysis.jl."/><meta property="twitter:description" content="Documentation for ClimaAnalysis.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="ClimaAnalysis.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">ClimaAnalysis.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../var/">OutputVars</a></li><li><a class="tocitem" href="../visualize/">Visualizing OutputVars</a></li><li class="is-active"><a class="tocitem" href>RMSEVariables</a><ul class="internal"><li><a class="tocitem" href="#Reading-RMSEs-from-CSV-file"><span>Reading RMSEs from CSV file</span></a></li><li><a class="tocitem" href="#Indexing"><span>Indexing</span></a></li><li><a class="tocitem" href="#Adding-categories,-models,-and-units"><span>Adding categories, models, and units</span></a></li><li><a class="tocitem" href="#Summary-statistics"><span>Summary statistics</span></a></li></ul></li><li><a class="tocitem" href="../visualize_rmse_var/">Visualizing RMSEVariables</a></li><li><a class="tocitem" href="../api/">APIs</a></li><li><a class="tocitem" href="../howdoi/">How do I?</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>RMSEVariables</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>RMSEVariables</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/CliMA/ClimaAnalysis.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/main/docs/src/rmse_var.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="RMSEVariables"><a class="docs-heading-anchor" href="#RMSEVariables"><code>RMSEVariable</code>s</a><a id="RMSEVariables-1"></a><a class="docs-heading-anchor-permalink" href="#RMSEVariables" title="Permalink"></a></h1><p><code>RMSEVariable</code>s contain all the information needed to process and compare root mean squared errors (RMSEs) between different models and categories (e.g., seasons) for a single variable of interest.</p><p><code>ClimaAnalysis</code> provides several constructors for making a <code>RMSEVariable</code>. For all constructors, a short name and a vector of model names must be provided. If units are not provided, then each model will have no unit which denotes the missing unit. See the examples below where the constructor can take in a short name, a vector of model names, a vector of categories, and a dictionary mapping model names to units or a string of the name of the unit.</p><pre><code class="language-julia hljs">import ClimaAnalysis

rmse_var = ClimaAnalysis.RMSEVariable(&quot;ta&quot;, [&quot;ACCESS-CM2&quot;, &quot;ACCESS-ESM1-5&quot;])
rmse_var = ClimaAnalysis.RMSEVariable(
    &quot;ta&quot;,
    [&quot;ACCESS-CM2&quot;, &quot;ACCESS-ESM1-5&quot;],
    Dict(&quot;ACCESS-CM2&quot; =&gt; &quot;K&quot;, &quot;ACCESS-ESM1-5&quot; =&gt; &quot;K&quot;),
)
rmse_var = ClimaAnalysis.RMSEVariable(
    &quot;ta&quot;,
    [&quot;ACCESS-CM2&quot;, &quot;ACCESS-ESM1-5&quot;],
    [&quot;DJF&quot;, &quot;MAM&quot;, &quot;JJA&quot;, &quot;SON&quot;, &quot;ANN&quot;],
    Dict(&quot;ACCESS-CM2&quot; =&gt; &quot;K&quot;, &quot;ACCESS-ESM1-5&quot; =&gt; &quot;K&quot;),
)
rmse_var = ClimaAnalysis.RMSEVariable(
    &quot;ta&quot;,
    [&quot;ACCESS-CM2&quot;, &quot;ACCESS-ESM1-5&quot;],
    [&quot;DJF&quot;, &quot;MAM&quot;, &quot;JJA&quot;, &quot;SON&quot;, &quot;ANN&quot;],
    ones(2, 5),
    Dict(&quot;ACCESS-CM2&quot; =&gt; &quot;K&quot;, &quot;ACCESS-ESM1-5&quot; =&gt; &quot;K&quot;),
)
# Convenience functions if models all share the same unit
rmse_var = ClimaAnalysis.RMSEVariable(
    &quot;ta&quot;,
    [&quot;ACCESS-CM2&quot;, &quot;ACCESS-ESM1-5&quot;],
    &quot;K&quot;,
)
rmse_var = ClimaAnalysis.RMSEVariable(
    &quot;ta&quot;,
    [&quot;ACCESS-CM2&quot;, &quot;ACCESS-ESM1-5&quot;],
    [&quot;DJF&quot;, &quot;MAM&quot;, &quot;JJA&quot;, &quot;SON&quot;, &quot;ANN&quot;],
    &quot;K&quot;,
)
rmse_var = ClimaAnalysis.RMSEVariable(
    &quot;ta&quot;,
    [&quot;ACCESS-CM2&quot;, &quot;ACCESS-ESM1-5&quot;],
    [&quot;DJF&quot;, &quot;MAM&quot;, &quot;JJA&quot;, &quot;SON&quot;, &quot;ANN&quot;],
    ones(2, 5),
    &quot;K&quot;,
)</code></pre><p>The <code>RMSEVariable</code> can be inspected using <code>model_names</code>, <code>category_names</code>, and <code>rmse_units</code> which provide the model names, the category names, and the units respectively.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; ClimaAnalysis.model_names(rmse_var)</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{String}:
 &quot;ACCESS-CM2&quot;
 &quot;ACCESS-ESM1-5&quot;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; ClimaAnalysis.category_names(rmse_var)</code><code class="nohighlight hljs ansi" style="display:block;">5-element Vector{String}:
 &quot;DJF&quot;
 &quot;MAM&quot;
 &quot;JJA&quot;
 &quot;SON&quot;
 &quot;ANN&quot;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; ClimaAnalysis.rmse_units(rmse_var)</code><code class="nohighlight hljs ansi" style="display:block;">Dict{String, String} with 2 entries:
  &quot;ACCESS-ESM1-5&quot; =&gt; &quot;K&quot;
  &quot;ACCESS-CM2&quot;    =&gt; &quot;K&quot;</code></pre><h2 id="Reading-RMSEs-from-CSV-file"><a class="docs-heading-anchor" href="#Reading-RMSEs-from-CSV-file">Reading RMSEs from CSV file</a><a id="Reading-RMSEs-from-CSV-file-1"></a><a class="docs-heading-anchor-permalink" href="#Reading-RMSEs-from-CSV-file" title="Permalink"></a></h2><p>Typically, the root mean squared errors (RMSEs) of different models across different categories are stored in a different file and need to be loaded in. <code>ClimaAnalysis</code> can load this information from a CSV file and store it in a <code>RMSEVariable</code>. The format of the CSV file should have a header consisting of the entry &quot;model_name&quot; (or any other text as it is ignored by the function) and rest of the entries should be the category names. Each row after the header should start with the model name and the root mean squared errors for each category for that model. The entries of the CSV file should be separated by commas.</p><p>See the example below using <code>read_rmses</code> where data is loaded from <code>test_csv.csv</code> and a short name of <code>ta</code> is provided. One can also pass in a dictionary mapping model names to units for <code>units</code> or a string if the units are the same for all the models.</p><pre><code class="language-julia hljs">rmse_var = ClimaAnalysis.read_rmses(&quot;./data/test_csv.csv&quot;, &quot;ta&quot;)
rmse_var = ClimaAnalysis.read_rmses(
    &quot;./data/test_csv.csv&quot;,
    &quot;ta&quot;,
    units = Dict(&quot;ACCESS-CM2&quot; =&gt; &quot;K&quot;, &quot;ACCESS-ESM1-5&quot; =&gt; &quot;K&quot;), # passing units as a dictionary
)
rmse_var = ClimaAnalysis.read_rmses(
    &quot;./data/test_csv.csv&quot;,
    &quot;ta&quot;,
    units = &quot;K&quot;, # passing units as a string
)</code></pre><h2 id="Indexing"><a class="docs-heading-anchor" href="#Indexing">Indexing</a><a id="Indexing-1"></a><a class="docs-heading-anchor-permalink" href="#Indexing" title="Permalink"></a></h2><p>After loading the data, one may want to inspect, change, or manipulate the data. This is possible by the indexing functionality that <code>RMSEVariable</code> provides. Indexing into a <code>RMSEVariable</code> is similar, but not the same as indexing into an array. Indexing by integer or string is supported, but linear indexing (e.g. <code>rmse_var[1]</code>) is not supported. integer or string is supported, but linear indexing (e.g., <code>rmse_var[1]</code>) is not supported.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; rmse_var[:, :]</code><code class="nohighlight hljs ansi" style="display:block;">2×5 Matrix{Float64}:
 11.941  10.178  13.279  10.443    8.71
 15.752  12.477  15.955  12.972  NaN</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; rmse_var[&quot;ACCESS-CM2&quot;]</code><code class="nohighlight hljs ansi" style="display:block;">5-element Vector{Float64}:
 11.941
 10.178
 13.279
 10.443
  8.71</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; rmse_var[:, &quot;MAM&quot;]</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{Float64}:
 10.178
 12.477</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; rmse_var[&quot;ACCESS-CM2&quot;, [&quot;ANN&quot;, &quot;DJF&quot;, &quot;MAM&quot;]]</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{Float64}:
  8.71
 11.941
 10.178</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; rmse_var[2,5] = 11.2;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; rmse_var[:, :]</code><code class="nohighlight hljs ansi" style="display:block;">2×5 Matrix{Float64}:
 11.941  10.178  13.279  10.443   8.71
 15.752  12.477  15.955  12.972  11.2</code></pre><h2 id="Adding-categories,-models,-and-units"><a class="docs-heading-anchor" href="#Adding-categories,-models,-and-units">Adding categories, models, and units</a><a id="Adding-categories,-models,-and-units-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-categories,-models,-and-units" title="Permalink"></a></h2><p>It may be the case that the CSV file does not contain all the models you want to analyze, or you want to consider another category but do not want to go in and manually edit the CSV file to add it. <code>ClimaAnalysis</code> provides <code>add_category</code>, <code>add_model</code>, and <code>add_unit!</code> for adding categories, models, and units respectively. Multiple model or categories can be provided (e.g., <code>add_model(rmse_var, &quot;model1&quot;, &quot;model2&quot;)</code>) in the functions. For adding multiple units, one can pass in a dictionary mapping model names to units. See the example below using this functionality.</p><pre><code class="language- hljs">rmse_var2 = ClimaAnalysis.add_category(rmse_var, &quot;Jan&quot;) # can take in more than one category
rmse_var = ClimaAnalysis.add_model(rmse_var, &quot;CliMA&quot;) # can take in more than one model name
ClimaAnalysis.add_unit!(rmse_var, &quot;CliMA&quot;, &quot;K&quot;)
ClimaAnalysis.add_unit!(rmse_var, Dict(&quot;CliMA&quot; =&gt; &quot;K&quot;)) # for adding multiple units</code></pre><h2 id="Summary-statistics"><a class="docs-heading-anchor" href="#Summary-statistics">Summary statistics</a><a id="Summary-statistics-1"></a><a class="docs-heading-anchor-permalink" href="#Summary-statistics" title="Permalink"></a></h2><p><code>ClimaAnalysis</code> provides several functions to compute summary statistics. As of now, <code>ClimaAnalysis</code> provides methods for find the best single model, the worst single model, and the median model.</p><p>The functions <code>find_best_single_model</code> and <code>find_worst_single_model</code> default to the category &quot;ANN&quot; (corresponding to the annual mean), but any category can be considered using the parameter <code>category_name</code>. Furthermore, the model&#39;s root mean squared errors (RMSEs) and the model&#39;s name are returned. The function <code>median</code> only returns the median model&#39;s RMSEs.</p><p>Any <code>NaN</code> that appears in the data is ignored when computing the summary statistics.</p><p>See the example below using this functionality.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; ClimaAnalysis.find_best_single_model(rmse_var, category_name = &quot;DJF&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">([11.941, 10.178, 13.279, 10.443, 8.71], &quot;ACCESS-CM2&quot;)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; ClimaAnalysis.find_worst_single_model(rmse_var, category_name = &quot;DJF&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">([15.752, 12.477, 15.955, 12.972, 11.2], &quot;ACCESS-ESM1-5&quot;)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; ClimaAnalysis.median(rmse_var)</code><code class="nohighlight hljs ansi" style="display:block;">5-element Vector{Float64}:
 13.8465
 11.3275
 14.617
 11.7075
  9.955</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../visualize/">« Visualizing OutputVars</a><a class="docs-footer-nextpage" href="../visualize_rmse_var/">Visualizing RMSEVariables »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Wednesday 23 April 2025 00:31">Wednesday 23 April 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
