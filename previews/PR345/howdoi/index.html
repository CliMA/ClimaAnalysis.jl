<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>How do I? · ClimaAnalysis.jl</title><meta name="title" content="How do I? · ClimaAnalysis.jl"/><meta property="og:title" content="How do I? · ClimaAnalysis.jl"/><meta property="twitter:title" content="How do I? · ClimaAnalysis.jl"/><meta name="description" content="Documentation for ClimaAnalysis.jl."/><meta property="og:description" content="Documentation for ClimaAnalysis.jl."/><meta property="twitter:description" content="Documentation for ClimaAnalysis.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="ClimaAnalysis.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">ClimaAnalysis.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../var/">OutputVars</a></li><li><a class="tocitem" href="../visualize/">Visualizing OutputVars</a></li><li><a class="tocitem" href="../read_files/">Reading NetCDF files</a></li><li><a class="tocitem" href="../rmse_var/">RMSEVariables</a></li><li><a class="tocitem" href="../visualize_rmse_var/">Visualizing RMSEVariables</a></li><li><a class="tocitem" href="../flat/">FlatVar</a></li><li><a class="tocitem" href="../api/">APIs</a></li><li class="is-active"><a class="tocitem" href>How do I?</a><ul class="internal"><li><a class="tocitem" href="#How-do-I-make-a-line-plot-with-variable-on-the-y-axis-instead-of-the-x-one?"><span>How do I make a line plot with variable on the y axis instead of the x one?</span></a></li><li><a class="tocitem" href="#How-do-I-take-an-average-of-a-variable-in-a-given-window-of-time?"><span>How do I take an average of a variable in a given window of time?</span></a></li><li><a class="tocitem" href="#How-do-I-get-a-slice-or-window-of-a-OutputVar-by-something-other-than-the-nearest-value?"><span>How do I get a slice or window of a <code>OutputVar</code> by something other than the nearest value?</span></a></li><li><a class="tocitem" href="#How-do-I-select-specific-indices-or-ranges-from-a-OutputVar?"><span>How do I select specific indices or ranges from a <code>OutputVar</code>?</span></a></li><li><a class="tocitem" href="#How-do-I-take-a-global-average-over-both-the-longitude-and-latitude-dimensions?"><span>How do I take a global average over both the longitude and latitude dimensions?</span></a></li><li><a class="tocitem" href="#How-do-I-make-the-y-axis-logscale?"><span>How do I make the y axis logscale?</span></a></li><li><a class="tocitem" href="#How-do-I-shift-my-longitudes-from-0-to-360-degrees-to-180-to-180-degrees?"><span>How do I shift my longitudes from 0 to 360 degrees to -180 to 180 degrees?</span></a></li><li><a class="tocitem" href="#How-do-I-find-the-specific-name-of-a-dimension-in-a-OutputVar-given-its-conventional-name?"><span>How do I find the specific name of a dimension in a <code>OutputVar</code> given its conventional name?</span></a></li><li><a class="tocitem" href="#How-do-I-move-to-pressure-coordinates?"><span>How do I move to pressure coordinates?</span></a></li><li><a class="tocitem" href="#How-do-I-reorder-the-dimensions-in-a-OutputVar-to-match-the-dimensions-in-another-OutputVar-or-the-dimension-names-in-an-iterable?"><span>How do I reorder the dimensions in a <code>OutputVar</code> to match the dimensions in another <code>OutputVar</code> or the dimension names in an iterable?</span></a></li><li><a class="tocitem" href="#How-do-I-resample-the-data-in-a-OutputVar-using-the-dimensions-from-another-OutputVar?"><span>How do I resample the data in a <code>OutputVar</code> using the dimensions from another <code>OutputVar</code>?</span></a></li><li><a class="tocitem" href="#How-do-I-resample-the-data-in-a-OutputVar-using-only-a-subset-of-dimensions-from-another-OutputVar?"><span>How do I resample the data in a <code>OutputVar</code> using only a subset of dimensions from another <code>OutputVar</code>?</span></a></li><li><a class="tocitem" href="#How-do-I-resample-without-needing-another-OutputVar?"><span>How do I resample without needing another <code>OutputVar</code>?</span></a></li><li><a class="tocitem" href="#How-do-I-load-multiple-NetCDF-files-along-the-time-dimension?"><span>How do I load multiple NetCDF files along the time dimension?</span></a></li><li><a class="tocitem" href="#How-do-I-concatenate-multiple-OutputVars-together?"><span>How do I concatenate multiple <code>OutputVar</code>s together?</span></a></li><li><a class="tocitem" href="#How-do-I-apply-a-land-or-sea-mask-to-a-OutputVar?"><span>How do I apply a land or sea mask to a <code>OutputVar</code>?</span></a></li><li><a class="tocitem" href="#How-do-I-replace-NaN-and-missing-values-in-the-data-of-a-OutputVar-with-0.0?"><span>How do I replace <code>NaN</code> and <code>missing</code> values in the data of a <code>OutputVar</code> with 0.0?</span></a></li><li><a class="tocitem" href="#How-do-I-reverse-a-dimension-so-that-an-interpolant-can-be-made?"><span>How do I reverse a dimension so that an interpolant can be made?</span></a></li><li><a class="tocitem" href="#How-do-I-shift-the-dates-in-a-OutputVar?"><span>How do I shift the dates in a <code>OutputVar</code>?</span></a></li></ul></li><li><a class="tocitem" href="../developer/">Developer Documentation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>How do I?</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>How do I?</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/CliMA/ClimaAnalysis.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/main/docs/src/howdoi.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="How-to-guide-and-cookbook"><a class="docs-heading-anchor" href="#How-to-guide-and-cookbook">How-to guide and cookbook</a><a id="How-to-guide-and-cookbook-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-guide-and-cookbook" title="Permalink"></a></h1><h2 id="How-do-I-make-a-line-plot-with-variable-on-the-y-axis-instead-of-the-x-one?"><a class="docs-heading-anchor" href="#How-do-I-make-a-line-plot-with-variable-on-the-y-axis-instead-of-the-x-one?">How do I make a line plot with variable on the y axis instead of the x one?</a><a id="How-do-I-make-a-line-plot-with-variable-on-the-y-axis-instead-of-the-x-one?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-make-a-line-plot-with-variable-on-the-y-axis-instead-of-the-x-one?" title="Permalink"></a></h2><p>By default, the plotting functions in <code>MakieExt</code> place the variable on the x axis. If you want it on the y axis instead (e.g., you are plotting the vertical profile of a column), you can pass the <code>dim_on_y = true</code> argument to the axis.</p><p>For instance,</p><pre><code class="language-julia hljs">plot!(var, more_kwargs = Dict(:axis =&gt; [:dim_on_y =&gt; true]))</code></pre><p><code>ClimaAnalysis.Utils</code> provides a convenience function <code>kwargs</code> to specify arguments a little bit more easily without having to think about <code>Symbol</code>s too much.</p><pre><code class="language-julia hljs">plot!(var, more_kwargs = Dict(:axis =&gt; kwargs(dim_on_y = true)))</code></pre><h2 id="How-do-I-take-an-average-of-a-variable-in-a-given-window-of-time?"><a class="docs-heading-anchor" href="#How-do-I-take-an-average-of-a-variable-in-a-given-window-of-time?">How do I take an average of a variable in a given window of time?</a><a id="How-do-I-take-an-average-of-a-variable-in-a-given-window-of-time?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-take-an-average-of-a-variable-in-a-given-window-of-time?" title="Permalink"></a></h2><p>You can use the <code>window</code> function to select a portion of a given <code>var</code>. For example, to select only the time from 10 seconds to 100 for <code>var</code></p><pre><code class="language-julia hljs">reduced_var = window(var, &quot;time&quot;, left = 10, right = 100)</code></pre><p>Now, you can apply the usual average functions.</p><div class="admonition is-info" id="Did-you-know?-6164926d8c8231ff"><header class="admonition-header">Did you know?<a class="admonition-anchor" href="#Did-you-know?-6164926d8c8231ff" title="Permalink"></a></header><div class="admonition-body"><p>Did you know that when you are applying <code>window</code> on a temporal dimension, you can also pass <code>Dates.DateTime</code> bounds? (E.g., <code>left = Dates.DateTime(2008)</code>).</p></div></div><h2 id="How-do-I-get-a-slice-or-window-of-a-OutputVar-by-something-other-than-the-nearest-value?"><a class="docs-heading-anchor" href="#How-do-I-get-a-slice-or-window-of-a-OutputVar-by-something-other-than-the-nearest-value?">How do I get a slice or window of a <code>OutputVar</code> by something other than the nearest value?</a><a id="How-do-I-get-a-slice-or-window-of-a-OutputVar-by-something-other-than-the-nearest-value?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-get-a-slice-or-window-of-a-OutputVar-by-something-other-than-the-nearest-value?" title="Permalink"></a></h2><p>With versions of ClimaAnalysis after v0.5.18, you can do this with the <code>by</code> keyword argument for <a href="../api/#ClimaAnalysis.Var.slice"><code>ClimaAnalysis.slice</code></a> and <a href="../api/#ClimaAnalysis.Var.window"><code>ClimaAnalysis.window</code></a>. For example, you can do</p><pre><code class="language-julia hljs">ClimaAnalysis.slice(var, time = 3, by = ClimaAnalysis.Index())
ClimaAnalysis.slice(var, time = 105.0, by = ClimaAnalysis.MatchValue())
ClimaAnalysis.window(var, left = 1, right = 3, by = ClimaAnalysis.Index())
ClimaAnalysis.window(var, left = 102.0, right = 108.0, by = ClimaAnalysis.MatchValue())</code></pre><h2 id="How-do-I-select-specific-indices-or-ranges-from-a-OutputVar?"><a class="docs-heading-anchor" href="#How-do-I-select-specific-indices-or-ranges-from-a-OutputVar?">How do I select specific indices or ranges from a <code>OutputVar</code>?</a><a id="How-do-I-select-specific-indices-or-ranges-from-a-OutputVar?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-select-specific-indices-or-ranges-from-a-OutputVar?" title="Permalink"></a></h2><p>You can use <a href="../api/#ClimaAnalysis.Var.select"><code>ClimaAnalysis.select</code></a> and <a href="../api/#ClimaAnalysis.Var.view_select"><code>ClimaAnalysis.view_select</code></a> to arbitrarily index into a <code>OutputVar</code> along any dimension.</p><p>Use <code>select</code> when you want a new <code>OutputVar</code> with copied data and <code>view_select</code> when you want a view into the original data. All selectors supported by <a href="../api/#ClimaAnalysis.Var.slice"><code>ClimaAnalysis.slice</code></a> and <a href="../api/#ClimaAnalysis.Var.window"><code>ClimaAnalysis.window</code></a> can be used for <code>select</code> and <code>view_select</code>.</p><p>In the following examples, <code>var</code> is a <code>OutputVar</code> with a time dimension of length 10, a longitude dimension of length 15, and a latitude dimension of length 20. You can select indices using a range.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; var_subset = ClimaAnalysis.select(var, by = ClimaAnalysis.Index(), time = 1:5);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; ClimaAnalysis.times(var_subset)</code><code class="nohighlight hljs ansi" style="display:block;">5-element Vector{Float64}:
 0.0
 1.0
 2.0
 3.0
 4.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; size(var_subset.data)</code><code class="nohighlight hljs ansi" style="display:block;">(5, 11, 11)</code></pre><p>You can also select using the nearest value to find the closest match.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; var_subset = ClimaAnalysis.select(var, by = ClimaAnalysis.NearestValue(), time = [2.1]);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; ClimaAnalysis.times(var_subset)</code><code class="nohighlight hljs ansi" style="display:block;">1-element Vector{Float64}:
 2.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; size(var_subset.data)</code><code class="nohighlight hljs ansi" style="display:block;">(1, 11, 11)</code></pre><p>You can select by matching values. This example also creates a view of the data instead of a copy.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; var_subset = ClimaAnalysis.view_select(var, by = ClimaAnalysis.MatchValue(), time = 2.0);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; ClimaAnalysis.has_time(var_subset)</code><code class="nohighlight hljs ansi" style="display:block;">false</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; size(var_subset.data)</code><code class="nohighlight hljs ansi" style="display:block;">(11, 11)</code></pre><div class="admonition is-warning" id="Scalar-versus-vector-indexing-7439ea63fde88bec"><header class="admonition-header">Scalar versus vector indexing<a class="admonition-anchor" href="#Scalar-versus-vector-indexing-7439ea63fde88bec" title="Permalink"></a></header><div class="admonition-body"><p>Be careful about the difference between scalar (e.g., <code>5</code>) and vector indexing (e.g., <code>[5]</code>) when using <code>select</code> or <code>view_select</code>. In the examples above, indexing with a scalar removes the dimension entirely, while indexing with a vector preserves the dimension as a singleton dimension.</p></div></div><div class="admonition is-warning" id="Avoid-duplicate-indices-4e74ac45cc9800a1"><header class="admonition-header">Avoid duplicate indices<a class="admonition-anchor" href="#Avoid-duplicate-indices-4e74ac45cc9800a1" title="Permalink"></a></header><div class="admonition-body"><p>You can include duplicate indices when selecting which may lead to unexpected behavior.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; var_subset = ClimaAnalysis.select(var, time = [1, 2, 2, 3]);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; ClimaAnalysis.times(var_subset)</code><code class="nohighlight hljs ansi" style="display:block;">4-element Vector{Float64}:
 1.0
 2.0
 2.0
 3.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; size(var_subset.data)</code><code class="nohighlight hljs ansi" style="display:block;">(4, 11, 11)</code></pre></div></div><h2 id="How-do-I-take-a-global-average-over-both-the-longitude-and-latitude-dimensions?"><a class="docs-heading-anchor" href="#How-do-I-take-a-global-average-over-both-the-longitude-and-latitude-dimensions?">How do I take a global average over both the longitude and latitude dimensions?</a><a id="How-do-I-take-a-global-average-over-both-the-longitude-and-latitude-dimensions?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-take-a-global-average-over-both-the-longitude-and-latitude-dimensions?" title="Permalink"></a></h2><p>You can use <code>average_lonlat</code> to compute the global average over the longitude and latitude dimensions and <code>weighted_average_lonlat</code> to compute the global latitude-weighted average over the longitude and latitude dimensions.</p><p>The function <code>average_lonlat</code> is different from composing <code>average_lon</code> and <code>average_lat</code> as the former computes an average over both the longitude and latitude dimensions and the latter computes an average of averages. In particular, the results differ when there are <code>NaN</code>s.</p><pre><code class="language-julia hljs">reduced_var = average_lonlat(var)</code></pre><h2 id="How-do-I-make-the-y-axis-logscale?"><a class="docs-heading-anchor" href="#How-do-I-make-the-y-axis-logscale?">How do I make the y axis logscale?</a><a id="How-do-I-make-the-y-axis-logscale?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-make-the-y-axis-logscale?" title="Permalink"></a></h2><p>The plotting routines can pass additional arguments to <code>Makie</code> through the <code>more_kwargs</code> keyword arguments. <code>more_kwargs</code> has to be a dictionary that maps symbols to a list of pairs. The accepted symbols are <code>:axis</code>, <code>:plot</code>, and <code>:cb</code>, and the pairs have to be pairs of symbols to values (the keyword arguments you want to pass down). Given that the type structure is a little complicated, <code>ClimaAnalysis</code> comes with a helper function for you to use. So, if you want to set the logscale for the <code>y</code> axis, you would do something like</p><pre><code class="language-julia hljs">import ClimaAnalysis.Utils: kwargs as ca_kwargs

plot!(fig, var, more_kwargs = Dict(:axis =&gt; ca_kwargs(yscale = log)))</code></pre><p>where inside <code>ca_kwargs</code> you pass the arguments you would pass to <code>Makie.Axis</code>.</p><h2 id="How-do-I-shift-my-longitudes-from-0-to-360-degrees-to-180-to-180-degrees?"><a class="docs-heading-anchor" href="#How-do-I-shift-my-longitudes-from-0-to-360-degrees-to-180-to-180-degrees?">How do I shift my longitudes from 0 to 360 degrees to -180 to 180 degrees?</a><a id="How-do-I-shift-my-longitudes-from-0-to-360-degrees-to-180-to-180-degrees?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-shift-my-longitudes-from-0-to-360-degrees-to-180-to-180-degrees?" title="Permalink"></a></h2><p>You can use the <code>shift_longitude</code> function. To shift the longitudes from 0 to 360 degrees to -180 degrees to 180 degrees, use <code>shift_longitude(var, -180.0, 180.0)</code>. The function assumes the prime meridian (0th degree) in <code>var</code> is the same before and after centering the longitudes. The units of the longitude dimension should be in degrees. If this not the case, then you can use <code>convert_dim_units</code> to change the units of the longitude dimension to degrees.</p><h2 id="How-do-I-find-the-specific-name-of-a-dimension-in-a-OutputVar-given-its-conventional-name?"><a class="docs-heading-anchor" href="#How-do-I-find-the-specific-name-of-a-dimension-in-a-OutputVar-given-its-conventional-name?">How do I find the specific name of a dimension in a <code>OutputVar</code> given its conventional name?</a><a id="How-do-I-find-the-specific-name-of-a-dimension-in-a-OutputVar-given-its-conventional-name?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-find-the-specific-name-of-a-dimension-in-a-OutputVar-given-its-conventional-name?" title="Permalink"></a></h2><p>Suppose you want to extract the <code>longitudes</code> of your data but you don&#39;t know if the dimension was called <code>lon</code> or <code>long</code>. In this case, you can use the <code>Var.longitude_name</code> function to find the name. This function scans the names and compares them to a standard list in <code>ClimaAnalysis.Var.LONGITUDE_NAMES</code>. You can also customize that variable if your name is not in that list. Equivalent functions exist for others dimensions too.</p><h2 id="How-do-I-move-to-pressure-coordinates?"><a class="docs-heading-anchor" href="#How-do-I-move-to-pressure-coordinates?">How do I move to pressure coordinates?</a><a id="How-do-I-move-to-pressure-coordinates?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-move-to-pressure-coordinates?" title="Permalink"></a></h2><p>The <code>Atmos</code> module in <code>ClimaAnalysis</code> comes with a function, <code>to_pressure_coordinates</code> that does precisely that. The function takes an input <code>OutputVar</code> and a pressure <code>OutputVar</code>. If the two are compatible, a new <code>OutputVar</code> is returned where the values are linearly interpolated on fixed pressure levels.</p><h2 id="How-do-I-reorder-the-dimensions-in-a-OutputVar-to-match-the-dimensions-in-another-OutputVar-or-the-dimension-names-in-an-iterable?"><a class="docs-heading-anchor" href="#How-do-I-reorder-the-dimensions-in-a-OutputVar-to-match-the-dimensions-in-another-OutputVar-or-the-dimension-names-in-an-iterable?">How do I reorder the dimensions in a <code>OutputVar</code> to match the dimensions in another <code>OutputVar</code> or the dimension names in an iterable?</a><a id="How-do-I-reorder-the-dimensions-in-a-OutputVar-to-match-the-dimensions-in-another-OutputVar-or-the-dimension-names-in-an-iterable?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-reorder-the-dimensions-in-a-OutputVar-to-match-the-dimensions-in-another-OutputVar-or-the-dimension-names-in-an-iterable?" title="Permalink"></a></h2><p>You can use the <code>reordered_as(src_var, dest_var)</code> function where <code>src_var</code> is a <code>OutputVar</code> with the dimensions you want to reorder to match the dimensions in the OutputVar <code>dest_var</code>.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; src_var.dims |&gt; keys |&gt; collect</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{String}:
 &quot;long&quot;
 &quot;lat&quot;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; dest_var.dims |&gt; keys |&gt; collect</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{String}:
 &quot;lat&quot;
 &quot;long&quot;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; reordered_var = ClimaAnalysis.reordered_as(src_var, dest_var);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; reordered_var.dims |&gt; keys |&gt; collect</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{String}:
 &quot;lat&quot;
 &quot;long&quot;</code></pre><p>Alternatively, you can reorder the dimensions using <code>permutedims</code>.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; src_var.dims |&gt; keys |&gt; collect</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{String}:
 &quot;long&quot;
 &quot;lat&quot;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; reordered_var = permutedims(src_var, (&quot;latitude&quot;, &quot;lon&quot;));</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; reordered_var.dims |&gt; keys |&gt; collect</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{String}:
 &quot;lat&quot;
 &quot;long&quot;</code></pre><h2 id="How-do-I-resample-the-data-in-a-OutputVar-using-the-dimensions-from-another-OutputVar?"><a class="docs-heading-anchor" href="#How-do-I-resample-the-data-in-a-OutputVar-using-the-dimensions-from-another-OutputVar?">How do I resample the data in a <code>OutputVar</code> using the dimensions from another <code>OutputVar</code>?</a><a id="How-do-I-resample-the-data-in-a-OutputVar-using-the-dimensions-from-another-OutputVar?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-resample-the-data-in-a-OutputVar-using-the-dimensions-from-another-OutputVar?" title="Permalink"></a></h2><p>You can use the <code>resampled_as(src_var, dest_var)</code> function where <code>src_var</code> is a OutputVar with the data you want to resample using the dimensions in another OutputVar <code>dest_var</code>. If resampling is possible, then a new <code>OutputVar</code> is returned where the data in <code>src_var</code> is resampled using a linear interpolation to fit the dimensions in <code>dest_var</code>. Resampling only over selected dimensions is possible with the keyword <code>dim_names</code>. Resampling is not possible when the dimensions in either <code>OutputVar</code>s are missing units, the dimensions between the <code>OutputVar</code>s do not agree, or the data in <code>src_var</code> is not defined everywhere on the dimensions in <code>dest_var</code>.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; src_var.data</code><code class="nohighlight hljs ansi" style="display:block;">3×4 Matrix{Float64}:
 1.0  4.0  7.0  10.0
 2.0  5.0  8.0  11.0
 3.0  6.0  9.0  12.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; src_var.dims</code><code class="nohighlight hljs ansi" style="display:block;">OrderedCollections.OrderedDict{String, Vector{Float64}} with 2 entries:
  &quot;lon&quot;      =&gt; [0.0, 1.0, 2.0]
  &quot;latitude&quot; =&gt; [0.0, 1.0, 2.0, 3.0]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; dest_var.dims</code><code class="nohighlight hljs ansi" style="display:block;">OrderedCollections.OrderedDict{String, Vector{Float64}} with 2 entries:
  &quot;long&quot; =&gt; [0.0, 1.0]
  &quot;lat&quot;  =&gt; [0.0, 1.0, 2.0]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; resampled_var = ClimaAnalysis.resampled_as(src_var, dest_var);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; resampled_var.data</code><code class="nohighlight hljs ansi" style="display:block;">2×3 Matrix{Float64}:
 1.0  4.0  7.0
 2.0  5.0  8.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; resampled_var.dims # updated dims that are the same as the dims in dest_var</code><code class="nohighlight hljs ansi" style="display:block;">OrderedCollections.OrderedDict{String, Vector{Float64}} with 2 entries:
  &quot;lon&quot;      =&gt; [0.0, 1.0]
  &quot;latitude&quot; =&gt; [0.0, 1.0, 2.0]</code></pre><h2 id="How-do-I-resample-the-data-in-a-OutputVar-using-only-a-subset-of-dimensions-from-another-OutputVar?"><a class="docs-heading-anchor" href="#How-do-I-resample-the-data-in-a-OutputVar-using-only-a-subset-of-dimensions-from-another-OutputVar?">How do I resample the data in a <code>OutputVar</code> using only a subset of dimensions from another <code>OutputVar</code>?</a><a id="How-do-I-resample-the-data-in-a-OutputVar-using-only-a-subset-of-dimensions-from-another-OutputVar?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-resample-the-data-in-a-OutputVar-using-only-a-subset-of-dimensions-from-another-OutputVar?" title="Permalink"></a></h2><div class="admonition is-compat" id="dim_names-keyword-argument-6c5391ed80853a8e"><header class="admonition-header">`dim_names` keyword argument<a class="admonition-anchor" href="#dim_names-keyword-argument-6c5391ed80853a8e" title="Permalink"></a></header><div class="admonition-body"><p>The keyword argument <code>dim_names</code> for <code>resampled_as</code> is introduced in ClimaAnalysis v0.5.14.</p></div></div><p>You can use the <code>dim_names</code> keyword argument in <code>resampled_as(src_var, dest_var)</code> function where <code>src_var</code> is a <code>OutputVar</code> with the data you want to resample using the dimensions in another <code>OutputVar</code> <code>dest_var</code>.</p><p>The argument <code>dim_names</code> can either be a string or an iterable such as an array of strings. The correct dimension is identified by using <code>conventional_dim_name</code>. For example, if <code>src_var</code> has a longitude dimension named <code>lon</code>, <code>dest_var</code> has a longitude dimension named <code>long</code>, and <code>dim_names</code> is <code>longitude</code>, then resampling is done on the longitude dimension because <code>conventional_dim_name</code> maps <code>lon</code>, <code>long</code>, and <code>longitude</code> to <code>longitude</code>.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; src_var.data</code><code class="nohighlight hljs ansi" style="display:block;">3×4 Matrix{Float64}:
 1.0  4.0  7.0  10.0
 2.0  5.0  8.0  11.0
 3.0  6.0  9.0  12.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; src_var.dims</code><code class="nohighlight hljs ansi" style="display:block;">OrderedCollections.OrderedDict{String, Vector{Float64}} with 2 entries:
  &quot;lon&quot;      =&gt; [0.0, 1.0, 2.0]
  &quot;latitude&quot; =&gt; [0.0, 1.0, 2.0, 3.0]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; dest_var.dims</code><code class="nohighlight hljs ansi" style="display:block;">OrderedCollections.OrderedDict{String, Vector{Float64}} with 2 entries:
  &quot;long&quot; =&gt; [0.0, 1.0]
  &quot;lat&quot;  =&gt; [0.0, 1.0, 2.0]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; partial_resampled_var = # dim_names is either a string or an iterable
           ClimaAnalysis.resampled_as(src_var, dest_var, dim_names = &quot;longitude&quot;);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; partial_resampled_var.data</code><code class="nohighlight hljs ansi" style="display:block;">2×4 Matrix{Float64}:
 1.0  4.0  7.0  10.0
 2.0  5.0  8.0  11.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; partial_resampled_var.dims</code><code class="nohighlight hljs ansi" style="display:block;">OrderedCollections.OrderedDict{String, Vector{Float64}} with 2 entries:
  &quot;lon&quot;      =&gt; [0.0, 1.0]
  &quot;latitude&quot; =&gt; [0.0, 1.0, 2.0, 3.0]</code></pre><h2 id="How-do-I-resample-without-needing-another-OutputVar?"><a class="docs-heading-anchor" href="#How-do-I-resample-without-needing-another-OutputVar?">How do I resample without needing another <code>OutputVar</code>?</a><a id="How-do-I-resample-without-needing-another-OutputVar?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-resample-without-needing-another-OutputVar?" title="Permalink"></a></h2><p>You can resample by passing keyword arguments of the dimension name and the vectors to resample on. See the example below.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; src_var.data</code><code class="nohighlight hljs ansi" style="display:block;">3×4 Matrix{Float64}:
 1.0  4.0  7.0  10.0
 2.0  5.0  8.0  11.0
 3.0  6.0  9.0  12.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; src_var.dims</code><code class="nohighlight hljs ansi" style="display:block;">OrderedCollections.OrderedDict{String, Vector{Float64}} with 2 entries:
  &quot;lon&quot;      =&gt; [0.0, 1.0, 2.0]
  &quot;latitude&quot; =&gt; [0.0, 1.0, 2.0, 3.0]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; resampled_var =
           ClimaAnalysis.resampled_as(src_var, long = [0.0, 1.0], lat = [0.0, 1.0, 2.0]);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; resampled_var.data</code><code class="nohighlight hljs ansi" style="display:block;">2×3 Matrix{Float64}:
 1.0  4.0  7.0
 2.0  5.0  8.0</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; resampled_var.dims</code><code class="nohighlight hljs ansi" style="display:block;">OrderedCollections.OrderedDict{String, Vector{Float64}} with 2 entries:
  &quot;lon&quot;      =&gt; [0.0, 1.0]
  &quot;latitude&quot; =&gt; [0.0, 1.0, 2.0]</code></pre><h2 id="How-do-I-load-multiple-NetCDF-files-along-the-time-dimension?"><a class="docs-heading-anchor" href="#How-do-I-load-multiple-NetCDF-files-along-the-time-dimension?">How do I load multiple NetCDF files along the time dimension?</a><a id="How-do-I-load-multiple-NetCDF-files-along-the-time-dimension?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-load-multiple-NetCDF-files-along-the-time-dimension?" title="Permalink"></a></h2><p>To load multiple NetCDF files along the time dimension, you can pass in multiple NetCDF files in a vector. For example, to load &quot;pr1.nc&quot; and &quot;pr2.nc&quot; along the time dimension, you can do</p><pre><code class="language-julia hljs">pr_var = ClimaAnalysis.OutputVar([&quot;pr1.nc&quot;, &quot;pr2.nc&quot;])</code></pre><h2 id="How-do-I-concatenate-multiple-OutputVars-together?"><a class="docs-heading-anchor" href="#How-do-I-concatenate-multiple-OutputVars-together?">How do I concatenate multiple <code>OutputVar</code>s together?</a><a id="How-do-I-concatenate-multiple-OutputVars-together?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-concatenate-multiple-OutputVars-together?" title="Permalink"></a></h2><p>You can use <code>cat</code> to concatenate multiple OutputVars of the same quantity along the same dimension. See the example below of concatenating the December, January, Feburary after splitting an <code>OutputVar</code> into seasons across time.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; ClimaAnalysis.dates(var)</code><code class="nohighlight hljs ansi" style="display:block;">12-element Vector{Dates.DateTime}:
 2010-01-01T00:00:00
 2010-02-01T00:00:00
 2010-03-01T00:00:00
 2010-04-01T00:00:00
 2010-05-01T00:00:00
 2010-06-01T00:00:00
 2010-07-01T00:00:00
 2010-08-01T00:00:00
 2010-09-01T00:00:00
 2010-10-01T00:00:00
 2010-11-01T00:00:00
 2010-12-01T00:00:00</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; seasons = ClimaAnalysis.split_by_season_across_time(var);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; DJF = cat(seasons[begin:4:end]..., dims = &quot;time&quot;);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; ClimaAnalysis.dates(DJF)</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{Dates.DateTime}:
 2010-01-01T00:00:00
 2010-02-01T00:00:00
 2010-12-01T00:00:00</code></pre><h2 id="How-do-I-apply-a-land-or-sea-mask-to-a-OutputVar?"><a class="docs-heading-anchor" href="#How-do-I-apply-a-land-or-sea-mask-to-a-OutputVar?">How do I apply a land or sea mask to a <code>OutputVar</code>?</a><a id="How-do-I-apply-a-land-or-sea-mask-to-a-OutputVar?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-apply-a-land-or-sea-mask-to-a-OutputVar?" title="Permalink"></a></h2><p>You can use <code>apply_landmask</code> or <code>apply_oceanmask</code> to mask out the land or ocean, respectively, in a <code>OutputVar</code>. The result of <code>apply_landmask(var)</code> is a <code>OutputVar</code>, where any coordinate corresponding to land is <code>NaN</code> in the data. Similarly, the result of <code>apply_oceanmask(var)</code> is a <code>OutputVar</code>, where any coordinate corresponding to ocean is <code>NaN</code> in the data.</p><pre><code class="language-julia hljs">var_no_land = ClimaAnalysis.apply_landmask(var)
var_no_ocean = ClimaAnalysis.apply_oceanmask(var)</code></pre><h2 id="How-do-I-replace-NaN-and-missing-values-in-the-data-of-a-OutputVar-with-0.0?"><a class="docs-heading-anchor" href="#How-do-I-replace-NaN-and-missing-values-in-the-data-of-a-OutputVar-with-0.0?">How do I replace <code>NaN</code> and <code>missing</code> values in the data of a <code>OutputVar</code> with 0.0?</a><a id="How-do-I-replace-NaN-and-missing-values-in-the-data-of-a-OutputVar-with-0.0?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-replace-NaN-and-missing-values-in-the-data-of-a-OutputVar-with-0.0?" title="Permalink"></a></h2><p>You can use <code>replace</code> or <code>replace!</code> to replace all <code>NaN</code> and <code>missing</code> values in the data of a <code>OutputVar</code> with 0.0. See the example below of this usage.</p><pre><code class="language-julia hljs">var_no_nan_and_missing = replace(var, missing =&gt; 0.0, NaN =&gt; 0.0)</code></pre><h2 id="How-do-I-reverse-a-dimension-so-that-an-interpolant-can-be-made?"><a class="docs-heading-anchor" href="#How-do-I-reverse-a-dimension-so-that-an-interpolant-can-be-made?">How do I reverse a dimension so that an interpolant can be made?</a><a id="How-do-I-reverse-a-dimension-so-that-an-interpolant-can-be-made?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-reverse-a-dimension-so-that-an-interpolant-can-be-made?" title="Permalink"></a></h2><p>You can use <code>reverse_dim</code> or <code>reverse_dim!</code> to reverse a dimension by name. See the example below of this usage.</p><pre><code class="language-julia hljs"># Reversing pressure levels so that an interpolant can be made
var_reversed = reverse_dim(var, &quot;pressure_level&quot;)
reverse_dim!(var, &quot;pressure_level&quot;) # in-place</code></pre><h2 id="How-do-I-shift-the-dates-in-a-OutputVar?"><a class="docs-heading-anchor" href="#How-do-I-shift-the-dates-in-a-OutputVar?">How do I shift the dates in a <code>OutputVar</code>?</a><a id="How-do-I-shift-the-dates-in-a-OutputVar?-1"></a><a class="docs-heading-anchor-permalink" href="#How-do-I-shift-the-dates-in-a-OutputVar?" title="Permalink"></a></h2><p>You can shift dates using <a href="../api/#ClimaAnalysis.Var.shift_to_start_of_previous_month"><code>shift_to_start_of_previous_month</code></a>, <a href="../api/#ClimaAnalysis.Var.shift_to_previous_week"><code>shift_to_previous_week</code></a>, and <a href="../api/#ClimaAnalysis.Var.shift_to_previous_day"><code>shift_to_previous_day</code></a>.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; ClimaAnalysis.dates(var)</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{Dates.DateTime}:
 2010-01-01T00:00:00
 2010-02-01T00:00:00
 2010-03-01T00:00:00</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; ClimaAnalysis.shift_to_start_of_previous_month(var) |&gt; ClimaAnalysis.dates</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{Dates.DateTime}:
 2009-12-01T00:00:00
 2010-01-01T00:00:00
 2010-02-01T00:00:00</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; ClimaAnalysis.shift_to_previous_week(var) |&gt; ClimaAnalysis.dates</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{Dates.DateTime}:
 2009-12-25T00:00:00
 2010-01-25T00:00:00
 2010-02-22T00:00:00</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; ClimaAnalysis.shift_to_previous_day(var) |&gt; ClimaAnalysis.dates</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{Dates.DateTime}:
 2009-12-31T00:00:00
 2010-01-31T00:00:00
 2010-02-28T00:00:00</code></pre><p>These functions are helpful with aligning the dates of observational and simulational data.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../api/">« APIs</a><a class="docs-footer-nextpage" href="../developer/">Developer Documentation »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Thursday 16 October 2025 22:45">Thursday 16 October 2025</span>. Using Julia version 1.12.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
