<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>APIs · ClimaAnalysis.jl</title><meta name="title" content="APIs · ClimaAnalysis.jl"/><meta property="og:title" content="APIs · ClimaAnalysis.jl"/><meta property="twitter:title" content="APIs · ClimaAnalysis.jl"/><meta name="description" content="Documentation for ClimaAnalysis.jl."/><meta property="og:description" content="Documentation for ClimaAnalysis.jl."/><meta property="twitter:description" content="Documentation for ClimaAnalysis.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="ClimaAnalysis.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">ClimaAnalysis.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../var/">OutputVars</a></li><li><a class="tocitem" href="../visualize/">Visualizing OutputVars</a></li><li><a class="tocitem" href="../read_files/">Reading NetCDF files</a></li><li><a class="tocitem" href="../rmse_var/">RMSEVariables</a></li><li><a class="tocitem" href="../visualize_rmse_var/">Visualizing RMSEVariables</a></li><li><a class="tocitem" href="../flat/">FlatVar</a></li><li class="is-active"><a class="tocitem" href>APIs</a><ul class="internal"><li><a class="tocitem" href="#Sim"><span>Sim</span></a></li><li><a class="tocitem" href="#Catalog"><span>Catalog</span></a></li><li><a class="tocitem" href="#Var"><span>Var</span></a></li><li><a class="tocitem" href="#Selectors"><span>Selectors</span></a></li><li><a class="tocitem" href="#FlatVar"><span>FlatVar</span></a></li><li><a class="tocitem" href="#Leaderboard"><span>Leaderboard</span></a></li><li><a class="tocitem" href="#Utilities"><span>Utilities</span></a></li><li><a class="tocitem" href="#Atmos"><span>Atmos</span></a></li><li><a class="tocitem" href="#Makie"><span>Makie</span></a></li><li><a class="tocitem" href="#GeoMakie"><span>GeoMakie</span></a></li></ul></li><li><a class="tocitem" href="../howdoi/">How do I?</a></li><li><a class="tocitem" href="../developer/">Developer Documentation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>APIs</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>APIs</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/CliMA/ClimaAnalysis.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h2 id="Sim"><a class="docs-heading-anchor" href="#Sim">Sim</a><a id="Sim-1"></a><a class="docs-heading-anchor-permalink" href="#Sim" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Sim.SimDir"><a class="docstring-binding" href="#ClimaAnalysis.Sim.SimDir"><code>ClimaAnalysis.Sim.SimDir</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SimDir(simulation_path::String)</code></pre><p>Object that describes all the <code>ClimaAtmos</code> output found in the given <code>simulation_path</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Sim.jl#L14-L18">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.get-Tuple{SimDir}"><a class="docstring-binding" href="#Base.get-Tuple{SimDir}"><code>Base.get</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">get(simdir::SimDir;
    short_name,
    reduction = nothing,
    period = nothing,
    coord_type = missing)</code></pre><p>Return a <code>OutputVar</code> for the corresponding combination of <code>short_name</code>, <code>reduction</code>, <code>period</code> (if it exists), and <code>coord_type</code> (if it exists).</p><p>The variable is read only once and saved into the <code>simdir</code>.</p><p><strong>Keyword arguments</strong></p><p>When passing <code>nothing</code> to <code>reduction</code> or <code>period</code> or <code>missing</code> to <code>coord_type</code>, <code>ClimaAnalysis</code> will try to automatically deduce the value. An error will be thrown if this is not possible.</p><p>For instance, if the simulation has only one <code>ta</code>, you do not need to specify the <code>reduction</code>, and <code>period</code> (<code>short_name</code> is enough). Similarly, if there is only one <code>ta_average</code> (ie, not multiple periods), <code>short_name</code> and <code>reduction</code> will be enough.</p><div class="admonition is-info" id="coord_type-keyword-argument-3b8106a670c45f1"><header class="admonition-header">`coord_type` keyword argument<a class="admonition-anchor" href="#coord_type-keyword-argument-3b8106a670c45f1" title="Permalink"></a></header><div class="admonition-body"><p>The <code>coord_type</code> keyword argument is available in versions of ClimaAnalysis after v0.5.20.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Sim.jl#L196-L222">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.get-Tuple{SimDir, Vararg{Any}}"><a class="docstring-binding" href="#Base.get-Tuple{SimDir, Vararg{Any}}"><code>Base.get</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">get(simdir::SimDir, short_names...)</code></pre><p>If only one reduction, period, and coordinate exist for the given <code>short_name</code>s, return the corresponding <code>OutputVar</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Sim.jl#L281-L286">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Sim.available_vars-Tuple{SimDir}"><a class="docstring-binding" href="#ClimaAnalysis.Sim.available_vars-Tuple{SimDir}"><code>ClimaAnalysis.Sim.available_vars</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">available_vars(simdir::SimDir)</code></pre><p>Return the short names of the variables found in the given <code>simdir</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Sim.jl#L102-L106">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Sim.available_reductions"><a class="docstring-binding" href="#ClimaAnalysis.Sim.available_reductions"><code>ClimaAnalysis.Sim.available_reductions</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">available_reductions(simdir::SimDir, short_name::String)</code></pre><p>Return the reductions available for the given variable in the given <code>simdir</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Sim.jl#L109-L113">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Sim.available_periods"><a class="docstring-binding" href="#ClimaAnalysis.Sim.available_periods"><code>ClimaAnalysis.Sim.available_periods</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">available_periods(simdir::SimDir, short_name::String, reduction::String)</code></pre><p>Return the periods associated to the given variable and reduction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Sim.jl#L124-L128">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Sim.available_coord_types"><a class="docstring-binding" href="#ClimaAnalysis.Sim.available_coord_types"><code>ClimaAnalysis.Sim.available_coord_types</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">available_coord_types(
    simdir::SimDir;
    short_name::String,
    reduction::String,
    period::Union{String, Nothing}
)</code></pre><p>Return the available coordinate types associated with the given variable, reduction, and period.</p><p>Note that <code>nothing</code> is reserved for diagnostics on their native space.</p><div class="admonition is-info" id="Compatibility-28d88432e045f542"><header class="admonition-header">Compatibility<a class="admonition-anchor" href="#Compatibility-28d88432e045f542" title="Permalink"></a></header><div class="admonition-body"><p>This function is available in versions of ClimaAnalysis after v0.5.20.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Sim.jl#L143-L158">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.show-Tuple{IO, SimDir}"><a class="docstring-binding" href="#Base.show-Tuple{IO, SimDir}"><code>Base.show</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">Base.show(io::IO, simdir::SimDir)</code></pre><p>Pretty print the contents of <code>simdir</code>.</p><p>Print the output directory and the periods associated to the given variable and reduction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Sim.jl#L187-L193">source</a></section></details></article><h2 id="Catalog"><a class="docs-heading-anchor" href="#Catalog">Catalog</a><a id="Catalog-1"></a><a class="docs-heading-anchor-permalink" href="#Catalog" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Catalog.NCCatalog"><a class="docstring-binding" href="#ClimaAnalysis.Catalog.NCCatalog"><code>ClimaAnalysis.Catalog.NCCatalog</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Organize external NetCDF files to easily initialize `OutputVar`s.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Catalog.jl#L11-L13">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Catalog.NCCatalog-Tuple{}"><a class="docstring-binding" href="#ClimaAnalysis.Catalog.NCCatalog-Tuple{}"><code>ClimaAnalysis.Catalog.NCCatalog</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">NCCatalog()</code></pre><p>Construct an empty <code>NCCatalog</code>.</p><p>Files can be added with <a href="#ClimaAnalysis.Catalog.add_file!"><code>ClimaAnalysis.Catalog.add_file!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Catalog.jl#L25-L31">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Catalog.add_file!"><a class="docstring-binding" href="#ClimaAnalysis.Catalog.add_file!"><code>ClimaAnalysis.Catalog.add_file!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">add_file!(catalog::NCCatalog, filepath, short_names...)</code></pre><p>Add the file at <code>filepath</code> to <code>catalog</code> with <code>short_names</code>.</p><p>The argument <code>short_names</code> can either be a short name (e.g., <code>&quot;rsdt&quot;</code>) or a pair of strings (e.g., <code>&quot;solar_mon&quot; =&gt; &quot;rsdt&quot;</code>). If a pair is used, then the first name is the variable name in the NetCDF file and the second name is the alias which will be used for <code>get</code>.</p><div class="admonition is-info" id="Multiple-files-with-the-same-short-names-82f6a662647c9a49"><header class="admonition-header">Multiple files with the same short names<a class="admonition-anchor" href="#Multiple-files-with-the-same-short-names-82f6a662647c9a49" title="Permalink"></a></header><div class="admonition-body"><p>If there are multiple files that contain the same short names, then you should pass in the desired file first or pass in a short name or a pair of short name to alias for <code>short_names</code> to make the variable in the file retrievable with <code>get</code>.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Catalog.jl#L38-L51">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.get-Tuple{NCCatalog, Any}"><a class="docstring-binding" href="#Base.get-Tuple{NCCatalog, Any}"><code>Base.get</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">get(catalog::NCCatalog, short_name; var_kwargs)</code></pre><p>Return a <code>OutputVar</code> with <code>short_name</code> from <code>catalog</code>.</p><p>The keyword argument <code>var_kwargs</code> is a tuple of keyword arguments passed to <code>OutputVar</code>. See <a href="#ClimaAnalysis.Var.OutputVar"><code>ClimaAnalysis.Var.OutputVar</code></a> for a list of keyword arguments that can be passed.</p><p>Any short names or aliases specified when adding files are searched first to identify which variable to load. If <code>short_name</code> cannot be found, then files are searched in the order that the files are added to identify which variable to load.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Catalog.jl#L90-L101">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Sim.available_vars-Tuple{NCCatalog}"><a class="docstring-binding" href="#ClimaAnalysis.Sim.available_vars-Tuple{NCCatalog}"><code>ClimaAnalysis.Sim.available_vars</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">available_vars(catalog::NCCatalog)</code></pre><p>Return the short names of the variables found in <code>catalog</code>.</p><p>Both aliases and variable names in the NetCDF files are returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Catalog.jl#L118-L124">source</a></section></details></article><h2 id="Var"><a class="docs-heading-anchor" href="#Var">Var</a><a id="Var-1"></a><a class="docs-heading-anchor-permalink" href="#Var" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.OutputVar"><a class="docstring-binding" href="#ClimaAnalysis.Var.OutputVar"><code>ClimaAnalysis.Var.OutputVar</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Representing an output variable</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L81-L83">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.read_var"><a class="docstring-binding" href="#ClimaAnalysis.Var.read_var"><code>ClimaAnalysis.Var.read_var</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">read_var(path::String; short_name = nothing)</code></pre><p>Read the <code>short_name</code> variable in the given NetCDF file.</p><p>When <code>short_name</code> is <code>nothing</code>, automatically identify the name of the variable. If multiple variables are present, the last one in alphabetical order is chosen.</p><p>When <code>units</code> is among the attributes, try to parse it and convert it into an <a href="https://painterqubits.github.io/Unitful.jl"><code>Unitful</code></a> object. <code>OutputVar</code>s with <code>Unitful</code> support automatic unit conversions.</p><p>If you want to access <code>units</code> as a string, look at <a href="#ClimaAnalysis.Var.units"><code>units</code></a> function.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">simdir = SimDir(&quot;my_output&quot;)
read_var(simdir.variable_paths[&quot;hu&quot;][&quot;inst&quot;])

read_var(&quot;my_netcdf_file.nc&quot;, short_name = &quot;ts&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L322-L345">source</a></section><section><div><pre><code class="language-julia hljs">read_var(paths::Vector{String}; short_name = nothing)</code></pre><p>Read the <code>short_name</code> variable in the vector of NetCDF files.</p><p>This function automatically aggregates the NetCDF files along the time dimension. If this is not possible, then an error is thrown. The attributes of the OutputVar is the same as the attributes of the first NetCDF file.</p><p>When <code>short_name</code> is <code>nothing</code>, automatically identify the name of the variable. If multiple variables are present, the last one in alphabetical order is chosen.</p><p>When <code>units</code> is among the attributes, try to parse it and convert it into an <a href="https://painterqubits.github.io/Unitful.jl"><code>Unitful</code></a> object. <code>OutputVar</code>s with <code>Unitful</code> support automatic unit conversions.</p><p>If you want to access <code>units</code> as a string, look at <a href="#ClimaAnalysis.Var.units"><code>units</code></a> function.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">simdir = SimDir(&quot;my_output&quot;)
read_var(simdir.variable_paths[&quot;hu&quot;][&quot;inst&quot;])

read_var([&quot;my_netcdf_file1.nc&quot;, &quot;my_netcdf_file2.nc&quot;], short_name = &quot;ts&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L368-L395">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.is_z_1D"><a class="docstring-binding" href="#ClimaAnalysis.Var.is_z_1D"><code>ClimaAnalysis.Var.is_z_1D</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">is_z_1D(var::OutputVar)</code></pre><p>Return whether the given <code>var</code>iable has an altitude dimension that is 1D.</p><p>When topography is present, the altitude dimension in the output variable is typically multidimensional. The dimensions are (X, Y, Z), where (X, Y) are the horizontal dimensions. In this case, <code>dims[&quot;z&quot;]</code> is essentially a map that identifies the physical altitude of the given point.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L685-L694">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.isempty-Tuple{OutputVar}"><a class="docstring-binding" href="#Base.isempty-Tuple{OutputVar}"><code>Base.isempty</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">isempty(var::OutputVar)</code></pre><p>Determine whether an OutputVar is empty.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L701-L705">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.short_name"><a class="docstring-binding" href="#ClimaAnalysis.Var.short_name"><code>ClimaAnalysis.Var.short_name</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">short_name(var::OutputVar)</code></pre><p>Return the <code>short_name</code> of the given <code>var</code>, if available.</p><p>If not available, return an empty string.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L479-L485">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.long_name"><a class="docstring-binding" href="#ClimaAnalysis.Var.long_name"><code>ClimaAnalysis.Var.long_name</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">long_name(var::OutputVar)</code></pre><p>Return the <code>long_name</code> of the given <code>var</code>, if available.</p><p>If not available, return an empty string.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L490-L496">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.units"><a class="docstring-binding" href="#ClimaAnalysis.Var.units"><code>ClimaAnalysis.Var.units</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">units(var::OutputVar)</code></pre><p>Return the <code>units</code> of the given <code>var</code>, if available.</p><p>If not available, return an empty string.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L501-L507">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.has_units"><a class="docstring-binding" href="#ClimaAnalysis.Var.has_units"><code>ClimaAnalysis.Var.has_units</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">has_units(var::OutputVar)</code></pre><p>Return whether the given <code>var</code> has <code>units</code> or not.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L512-L516">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.remake"><a class="docstring-binding" href="#ClimaAnalysis.Var.remake"><code>ClimaAnalysis.Var.remake</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">remake(var; attributes, dims, dim_attributes, data)</code></pre><p>Remake an <code>OutputVar</code>. If a keyword argument is not supplied, then it defaults to <code>attributes</code>, <code>dims</code>, <code>dim_attributes</code>, or <code>data</code> of <code>var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L669-L674">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.slice"><a class="docstring-binding" href="#ClimaAnalysis.Var.slice"><code>ClimaAnalysis.Var.slice</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">slice(var::OutputVar, by = NearestValue(), kwargs...)</code></pre><p>Return a new <code>OutputVar</code> by slicing across dimensions as defined by the keyword arguments.</p><p>When a time dimension is selected and <code>start_date</code> is among <code>var</code>&#39;s attributes, it is possible to directly pass a <code>Dates.DateTime</code> and <code>slice</code> will automatically convert it into the corresponding time.</p><p>The keyword argument <code>by</code> can be <code>ClimaAnalysis.NearestValue()</code>, <code>ClimaAnalysis.MatchValue()</code>, or <code>ClimaAnalysis.Index()</code>.</p><ul><li><code>NearestValue()</code>: The nearest value will be selected for slicing.</li><li><code>MatchValue()</code>: The approximately matched value will be selected for slicing.</li><li><code>Index()</code>: The index passed in will be used for slicing.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">slice(var, lat = 30, lon = 20, time = 100)</code></pre><p>If <code>var</code> has <code>start_date</code> among its attributes.</p><pre><code class="language-julia hljs">import Dates
slice(var, lat = 30, lon = 20, time = Dates.DateTime(2020, 12, 21))</code></pre><div class="admonition is-compat" id="Support-for-Dates-and-generalized-dimension-names-7ab91ccf51d0b2c2"><header class="admonition-header">Support for Dates and generalized dimension names<a class="admonition-anchor" href="#Support-for-Dates-and-generalized-dimension-names-7ab91ccf51d0b2c2" title="Permalink"></a></header><div class="admonition-body"><p>Calling <code>slice</code> with a <code>DateTime</code> and specifying a dimension by one of its name (instead of the actual name in the file) was introduced in ClimaAnalysis v0.5.17.</p></div></div><div class="admonition is-compat" id="Support-for-AbstractSelector-1cbcaba7e8314722"><header class="admonition-header">Support for AbstractSelector<a class="admonition-anchor" href="#Support-for-AbstractSelector-1cbcaba7e8314722" title="Permalink"></a></header><div class="admonition-body"><p>Calling <code>slice</code> with the <code>by</code> keyword argument was introduced after ClimaAnalysis v0.5.18.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_selectors.jl#L121-L156">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.average_lat"><a class="docstring-binding" href="#ClimaAnalysis.Var.average_lat"><code>ClimaAnalysis.Var.average_lat</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">average_lat(var::OutputVar; ignore_nan = true, weighted = false)</code></pre><p>Return a new OutputVar where the values on the latitudes are averaged arithmetically.</p><p>When <code>weighted</code> is <code>true</code>, weight the average over <code>cos(lat)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L784-L790">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.weighted_average_lat"><a class="docstring-binding" href="#ClimaAnalysis.Var.weighted_average_lat"><code>ClimaAnalysis.Var.weighted_average_lat</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">weighted_average_lat(var::OutputVar; ignore_nan = true)</code></pre><p>Return a new OutputVar where the values on the latitudes are averaged arithmetically with weights of <code>cos(lat)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L825-L830">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.average_lon"><a class="docstring-binding" href="#ClimaAnalysis.Var.average_lon"><code>ClimaAnalysis.Var.average_lon</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">average_lon(var::OutputVar; ignore_nan = true)</code></pre><p>Return a new OutputVar where the values on the longitudes are averaged arithmetically.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L834-L839">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.average_lonlat"><a class="docstring-binding" href="#ClimaAnalysis.Var.average_lonlat"><code>ClimaAnalysis.Var.average_lonlat</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">average_lonlat(var; ignore_nan = true)</code></pre><p>Return a new <code>OutputVar</code> where the values along the longitude and latitude dimensions are averaged arithmetically.</p><div class="admonition is-info" id="Difference-from-average_lon-and-average_lat-67435d9b2d26e144"><header class="admonition-header">Difference from average_lon and average_lat<a class="admonition-anchor" href="#Difference-from-average_lon-and-average_lat-67435d9b2d26e144" title="Permalink"></a></header><div class="admonition-body"><p>The computation <code>average_lon(average_lat(var))</code> computes an average of averages. This function computes the global average over all the values across both the longitude and latitude dimensions. In particular, the results will differ when there are <code>NaN</code>s.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L915-L925">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.weighted_average_lonlat"><a class="docstring-binding" href="#ClimaAnalysis.Var.weighted_average_lonlat"><code>ClimaAnalysis.Var.weighted_average_lonlat</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">weighted_average_lonlat(var; ignore_nan = true)</code></pre><p>Return a new <code>OutputVar</code> where the values along the longitude and latitude dimensions are averaged arithmetically with weights of <code>cos(lat)</code> along the latitude dimension.</p><div class="admonition is-info" id="Difference-from-average_lon-and-weighted_average_lat-1fd63cdac80da860"><header class="admonition-header">Difference from average_lon and weighted_average_lat<a class="admonition-anchor" href="#Difference-from-average_lon-and-weighted_average_lat-1fd63cdac80da860" title="Permalink"></a></header><div class="admonition-body"><p>The computation <code>average_lon(weighted_average_lat(var))</code> computes an average of averages. This function computes the global latitude-weighted average over all the values across both the longitude and latitude dimensions. In particular, the results differ when there are <code>NaN</code>s.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L899-L910">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.average_x"><a class="docstring-binding" href="#ClimaAnalysis.Var.average_x"><code>ClimaAnalysis.Var.average_x</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">average_x(var::OutputVar; ignore_nan = true)</code></pre><p>Return a new OutputVar where the values along the <code>x</code> dimension are averaged arithmetically.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L852-L856">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.average_y"><a class="docstring-binding" href="#ClimaAnalysis.Var.average_y"><code>ClimaAnalysis.Var.average_y</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">average_y(var::OutputVar; ignore_nan = true)</code></pre><p>Return a new OutputVar where the values along the <code>y</code> dimension are averaged arithmetically.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L863-L867">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.average_xy"><a class="docstring-binding" href="#ClimaAnalysis.Var.average_xy"><code>ClimaAnalysis.Var.average_xy</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">average_xy(var::OutputVar; ignore_nan = true)</code></pre><p>Return a new OutputVar where the values along both horizontal dimensions <code>x</code> and <code>y</code> are averaged arithmetically.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L874-L879">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.average_time"><a class="docstring-binding" href="#ClimaAnalysis.Var.average_time"><code>ClimaAnalysis.Var.average_time</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">average_time(var::OutputVar; ignore_nan = true)</code></pre><p>Return a new OutputVar where the values are averaged arithmetically in time.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1006-L1010">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.variance_lon"><a class="docstring-binding" href="#ClimaAnalysis.Var.variance_lon"><code>ClimaAnalysis.Var.variance_lon</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">variance_lon(var; ignore_nan = true)</code></pre><p>Return a new OutputVar where the values are the variances along the longitude dimension.</p><p>If <code>corrected</code> is <code>true</code>, then the variance is computed by dividing the sample mean by <code>n - 1</code>, whereas if <code>corrected</code> is <code>false</code>, then the variance is computed by dividing the sample mean by <code>n</code>, where <code>n</code> is the number of elements that the variance is being computed over.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1037-L1045">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.variance_lat"><a class="docstring-binding" href="#ClimaAnalysis.Var.variance_lat"><code>ClimaAnalysis.Var.variance_lat</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">variance_lat(var; ignore_nan = true, corrected = true)</code></pre><p>Return a new OutputVar where the values are the variances along the latitude dimension.</p><p>If <code>corrected</code> is <code>true</code>, then the variance is computed by dividing the sample mean by <code>n - 1</code>, whereas if <code>corrected</code> is <code>false</code>, then the variance is computed by dividing the sample mean by <code>n</code>, where <code>n</code> is the number of elements that the variance is being computed over.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1063-L1071">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.variance_time"><a class="docstring-binding" href="#ClimaAnalysis.Var.variance_time"><code>ClimaAnalysis.Var.variance_time</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">variance_time(var; ignore_nan = true)</code></pre><p>Return a new OutputVar where the values are the variances along the time dimension.</p><p>If <code>corrected</code> is <code>true</code>, then the variance is computed by dividing the sample mean by <code>n - 1</code>, whereas if <code>corrected</code> is <code>false</code>, then the variance is computed by dividing the sample mean by <code>n</code>, where <code>n</code> is the number of elements that the variance is being computed over.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1017-L1025">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.window"><a class="docstring-binding" href="#ClimaAnalysis.Var.window"><code>ClimaAnalysis.Var.window</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">window(var::OutputVar, dim_name; left = nothing, right = nothing, by = NearestValue())</code></pre><p>Return a new OutputVar by selecting the values of the given <code>dim</code>ension that are between <code>left</code> and <code>right</code>.</p><p>If <code>left</code> and/or <code>right</code> are <code>nothing</code>, assume beginning (or end) of the array.</p><p>For the time dimension, <code>left</code> and <code>right</code> can also be <code>Dates.DateTime</code> (if <code>var</code> contains a <code>start_date</code>).</p><p>The keyword argument <code>by</code> can be <code>ClimaAnalysis.NearestValue()</code>, <code>ClimaAnalysis.MatchValue()</code>, or <code>ClimaAnalysis.Index()</code>.</p><ul><li><code>NearestValue()</code>: The nearest value will be selected for windowing.</li><li><code>MatchValue()</code>: The approximately matched value will be selected for windowing.</li><li><code>Index()</code>: The index passed in will be used for windowing.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">window(var, &#39;lat&#39;, left = -50, right = 50)
window(var, &#39;time&#39;, left = DateTime(2008), right = DateTime(2009))</code></pre><div class="admonition is-compat" id="Support-for-Dates-and-generalized-dimension-names-6043647ad5f5f944"><header class="admonition-header">Support for Dates and generalized dimension names<a class="admonition-anchor" href="#Support-for-Dates-and-generalized-dimension-names-6043647ad5f5f944" title="Permalink"></a></header><div class="admonition-body"><p>Calling <code>window</code> with a <code>DateTime</code> and specifying a dimension by one of its name (instead of the actual name in the file) was introduced in ClimaAnalysis v0.5.17.</p></div></div><div class="admonition is-compat" id="Support-for-AbstractSelector-7f94cf1875c9e6c"><header class="admonition-header">Support for AbstractSelector<a class="admonition-anchor" href="#Support-for-AbstractSelector-7f94cf1875c9e6c" title="Permalink"></a></header><div class="admonition-body"><p>Calling <code>window</code> with the <code>by</code> keyword argument was introduced after ClimaAnalysis v0.5.18.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_selectors.jl#L166-L198">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.select"><a class="docstring-binding" href="#ClimaAnalysis.Var.select"><code>ClimaAnalysis.Var.select</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">select(var::OutputVar; by = NearestValue(), kwargs...)</code></pre><p>Return a new <code>OutputVar</code> by selecting indices or values according to <code>by</code> across dimensions as defined by the keyword arguments.</p><p>The keyword argument <code>by</code> can be <code>ClimaAnalysis.NearestValue()</code>, <code>ClimaAnalysis.MatchValue()</code>, or <code>ClimaAnalysis.Index()</code>.</p><ul><li><code>NearestValue()</code>: The nearest value will be selected for slicing.</li><li><code>MatchValue()</code>: The approximately matched value will be selected for slicing.</li><li><code>Index()</code>: The index passed in will be used for slicing.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">import ClimaAnalysis: select, Index, NearestValue, MatchValue
select(var, by = Index(), lat = [1,2,3], lon = 1:3)
select(var, by = NearestValue(), lat = -90.0, long = [0.0, 10.0, 20.0])
select(var, by = MatchValue(), latitude = [90.0], long = 180.0)</code></pre><div class="admonition is-info" id="Supported-indices-and-values-74d37d4f8ecc797d"><header class="admonition-header">Supported indices and values<a class="admonition-anchor" href="#Supported-indices-and-values-74d37d4f8ecc797d" title="Permalink"></a></header><div class="admonition-body"><p>Indices or values could be a single value, a vector of values, or an <code>AbstractRange</code>. All other forms of indexing are not supported.</p></div></div><p>See also <a href="#ClimaAnalysis.Var.view_select"><code>view_select</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_selectors.jl#L345-L371">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.view_select"><a class="docstring-binding" href="#ClimaAnalysis.Var.view_select"><code>ClimaAnalysis.Var.view_select</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">view_select(var::OutputVar, by = NearestValue(), kwargs...)</code></pre><p>Return a new <code>OutputVar</code> by selecting indices or values according to <code>by</code> across dimensions as defined by the keyword arguments. The data of the returned <code>OutputVar</code> is a view of <code>var.data</code>.</p><p>The keyword argument <code>by</code> can be <code>ClimaAnalysis.NearestValue()</code>, <code>ClimaAnalysis.MatchValue()</code>, or <code>ClimaAnalysis.Index()</code>.</p><ul><li><code>NearestValue()</code>: The nearest value will be selected for slicing.</li><li><code>MatchValue()</code>: The approximately matched value will be selected for slicing.</li><li><code>Index()</code>: The index passed in will be used for slicing.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">import ClimaAnalysis: view_select, Index, NearestValue, MatchValue
view_select(var, by = Index(), lat = [1,2,3], lon = 1:3)
view_select(var, by = NearestValue(), lat = -90.0, long = [0.0, 10.0, 20.0])
view_select(var, by = MatchValue(), latitude = [90.0], long = 180.0)</code></pre><p>See also <a href="#ClimaAnalysis.Var.select"><code>select</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_selectors.jl#L377-L400">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.arecompatible"><a class="docstring-binding" href="#ClimaAnalysis.Var.arecompatible"><code>ClimaAnalysis.Var.arecompatible</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">arecompatible(x::OutputVar, y::OutputVar)</code></pre><p>Return whether two <code>OutputVar</code> are defined on the same physical space</p><p>This is accomplished by comparing <code>dims</code> and <code>dim_attributes</code> (the latter because they might contain information about the units).</p><p>We assume that:</p><ul><li><code>dim2index</code> and <code>index2dim</code> where correctly created and they reflect <code>dims</code></li><li><code>data</code> is also consistent with <code>dims</code>,</li></ul><p>We also <em>do not</em> check units for <code>data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1328-L1340">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.shift_longitude"><a class="docstring-binding" href="#ClimaAnalysis.Var.shift_longitude"><code>ClimaAnalysis.Var.shift_longitude</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">shift_longitude(var, lower_lon, upper_lon; shift_by = 0.0)</code></pre><p>Shift the longitudes in <code>var</code> to <code>lower_lon</code> to <code>upper_lon</code> degrees.</p><p>We assume that the units of the longitude dimension is degrees. If this is not the case, then one can use <a href="#ClimaAnalysis.Var.convert_dim_units"><code>convert_dim_units</code></a> to convert the units to degrees.</p><p>This function assumes the prime meridian (0th degree) in <code>var</code> is the same before and after shifting the longitudes.</p><p>If two points share the same longitude (e.g. -180 degrees and 180 degrees on longitudes spanning from -180 degrees to 180 degrees), then we remove the last longitude before shifting the longitudes. This is necessary to prevent duplicated longitudes after shifting longitudes.</p><p>To shift from -180 to 180 degrees to 0 to 360 degrees, use <code>shift_longitude(var, 0.0, 360.0)</code> and to shift from 0 to 360 degrees to -180 to 180 degrees, use <code>shift_longitude(var, -180.0, 180.0)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1206-L1225">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.center_longitude!"><a class="docstring-binding" href="#ClimaAnalysis.Var.center_longitude!"><code>ClimaAnalysis.Var.center_longitude!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">center_longitude!(var::OutputVar, lon::Real)</code></pre><p>Shift the longitudes in <code>var</code> so that <code>lon</code> is the center one.</p><p>This is useful to center the global projection to the 180 meridian instead of the 0.</p><div class="admonition is-category-warn" id="Deprecated-a7a51ad2baea3ab9"><header class="admonition-header">Deprecated<a class="admonition-anchor" href="#Deprecated-a7a51ad2baea3ab9" title="Permalink"></a></header><div class="admonition-body"><p>This function is deprecated and users are encouraged to use <a href="#ClimaAnalysis.Var.shift_longitude"><code>shift_longitude</code></a> instead.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1166-L1176">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.times"><a class="docstring-binding" href="#ClimaAnalysis.Var.times"><code>ClimaAnalysis.Var.times</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">times(var::OutputVar)</code></pre><p>Return the <code>time</code> dimension in <code>var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L123-L127">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.dates"><a class="docstring-binding" href="#ClimaAnalysis.Var.dates"><code>ClimaAnalysis.Var.dates</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">dates(var::OutputVar)</code></pre><p>Return the <code>date</code> dimension in <code>var</code>.</p><p>If <code>dates</code> is a dimension, return that.</p><p>If not, try computing the dates from the <code>start_date</code> and the <code>times</code>. In this, we assume <code>times</code> is seconds.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L137-L146">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.longitudes"><a class="docstring-binding" href="#ClimaAnalysis.Var.longitudes"><code>ClimaAnalysis.Var.longitudes</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">longitudes(var::OutputVar)</code></pre><p>Return the <code>longitude</code> dimension in <code>var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L171-L175">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.latitudes"><a class="docstring-binding" href="#ClimaAnalysis.Var.latitudes"><code>ClimaAnalysis.Var.latitudes</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">latitudes(var::OutputVar)</code></pre><p>Return the <code>latitude</code> dimension in <code>var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L186-L190">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.altitudes"><a class="docstring-binding" href="#ClimaAnalysis.Var.altitudes"><code>ClimaAnalysis.Var.altitudes</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">altitudes(var::OutputVar)</code></pre><p>Return the <code>altitude</code> dimension in <code>var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L201-L205">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.pressures"><a class="docstring-binding" href="#ClimaAnalysis.Var.pressures"><code>ClimaAnalysis.Var.pressures</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">pressures(var::OutputVar)</code></pre><p>Return the <code>pressure</code> dimension in <code>var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L216-L220">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.time_name"><a class="docstring-binding" href="#ClimaAnalysis.Var.time_name"><code>ClimaAnalysis.Var.time_name</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">time_name(var::OutputVar)</code></pre><p>Return the name of the <code>time</code> dimension in <code>var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L116-L120">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.date_name"><a class="docstring-binding" href="#ClimaAnalysis.Var.date_name"><code>ClimaAnalysis.Var.date_name</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">date_name(var::OutputVar)</code></pre><p>Return the name of the <code>date</code> dimension in <code>var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L130-L134">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.longitude_name"><a class="docstring-binding" href="#ClimaAnalysis.Var.longitude_name"><code>ClimaAnalysis.Var.longitude_name</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">longitude_name(var::OutputVar)</code></pre><p>Return the name of the <code>longitude</code> dimension in <code>var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L163-L167">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.latitude_name"><a class="docstring-binding" href="#ClimaAnalysis.Var.latitude_name"><code>ClimaAnalysis.Var.latitude_name</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">latitude_name(var::OutputVar)</code></pre><p>Return the name of the <code>latitude</code> dimension in <code>var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L178-L182">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.altitude_name"><a class="docstring-binding" href="#ClimaAnalysis.Var.altitude_name"><code>ClimaAnalysis.Var.altitude_name</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">altitude_name(var::OutputVar)</code></pre><p>Return the name of the <code>altitude</code> dimension in <code>var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L193-L197">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.pressure_name"><a class="docstring-binding" href="#ClimaAnalysis.Var.pressure_name"><code>ClimaAnalysis.Var.pressure_name</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">pressure_name(var::OutputVar)</code></pre><p>Return the name of the <code>pressure</code> dimension in <code>var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L208-L212">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.has_time"><a class="docstring-binding" href="#ClimaAnalysis.Var.has_time"><code>ClimaAnalysis.Var.has_time</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">has_time(var::OutputVar)</code></pre><p>Return whether <code>var</code> has a <code>time</code> dimension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L48-L52">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.has_date"><a class="docstring-binding" href="#ClimaAnalysis.Var.has_date"><code>ClimaAnalysis.Var.has_date</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">has_date(var::OutputVar)</code></pre><p>Return whether <code>var</code> has a <code>date</code> dimension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L56-L60">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.has_longitude"><a class="docstring-binding" href="#ClimaAnalysis.Var.has_longitude"><code>ClimaAnalysis.Var.has_longitude</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">has_longitude(var::OutputVar)</code></pre><p>Return whether <code>var</code> has a <code>longitude</code> dimension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L64-L68">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.has_latitude"><a class="docstring-binding" href="#ClimaAnalysis.Var.has_latitude"><code>ClimaAnalysis.Var.has_latitude</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">has_latitude(var::OutputVar)</code></pre><p>Return whether <code>var</code> has a <code>latitude</code> dimension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L72-L76">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.has_altitude"><a class="docstring-binding" href="#ClimaAnalysis.Var.has_altitude"><code>ClimaAnalysis.Var.has_altitude</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">has_altitude(var::OutputVar)</code></pre><p>Return whether <code>var</code> has a <code>altitude</code> dimension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L80-L84">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.has_pressure"><a class="docstring-binding" href="#ClimaAnalysis.Var.has_pressure"><code>ClimaAnalysis.Var.has_pressure</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">has_pressure(var::OutputVar)</code></pre><p>Return whether <code>var</code> has a <code>pressure</code> dimension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L88-L92">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.conventional_dim_name"><a class="docstring-binding" href="#ClimaAnalysis.Var.conventional_dim_name"><code>ClimaAnalysis.Var.conventional_dim_name</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">conventional_dim_name(dim_name::AbstractString)</code></pre><p>Return the type of dimension as a string from longitude, latitude, time, date, altitude, or pressure if possible or <code>dim_name</code> as a string otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L223-L228">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.find_corresponding_dim_name"><a class="docstring-binding" href="#ClimaAnalysis.Var.find_corresponding_dim_name"><code>ClimaAnalysis.Var.find_corresponding_dim_name</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">find_corresponding_dim_name(dim_name::AbstractString, dim_names::Iterable)</code></pre><p>Find the corresponding dimension name in <code>dim_names</code> that matches <code>dim_name</code>.</p><p>Two names for a dimension match if both correspond to the same conventional name as determined by <code>Var.conventional_dim_name</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ClimaAnalysis.Var.find_corresponding_dim_name(&quot;longitude&quot;, [&quot;lat&quot;, &quot;lon&quot;])
&quot;lon&quot;

julia&gt; ClimaAnalysis.Var.find_corresponding_dim_name(&quot;time&quot;, [&quot;lat&quot;, &quot;lon&quot;, &quot;t&quot;])
&quot;t&quot;

julia&gt; ClimaAnalysis.Var.find_corresponding_dim_name(&quot;height&quot;, [&quot;lat&quot;, &quot;lon&quot;, &quot;height&quot;])
&quot;height&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L239-L260">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.find_corresponding_dim_name_in_var"><a class="docstring-binding" href="#ClimaAnalysis.Var.find_corresponding_dim_name_in_var"><code>ClimaAnalysis.Var.find_corresponding_dim_name_in_var</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">find_corresponding_dim_name(dim_name::AbstractString, var)</code></pre><p>Find the corresponding dimension name in <code>var</code>&#39;s dimension that matches <code>dim_name</code>.</p><p>Two names for a dimension match if both correspond to the same conventional name as determined by <code>Var.conventional_dim_name</code>.</p><p>If nothing matches, return an error.</p><p>This function is useful to identify a dimension from a given name, even if it is not its conventional name (e.g., <code>lat</code> vs <code>latitude</code>).</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; keys(var.dims)
(&quot;lon&quot;, &quot;lat&quot;, &quot;time&quot;, &quot;potatoes&quot;)

julia&gt; ClimaAnalysis.Var.find_corresponding_dim_name_in_var(&quot;t&quot;, var)
&quot;time&quot;

julia&gt; ClimaAnalysis.Var.find_corresponding_dim_name(&quot;potatoes&quot;, var)
&quot;potatoes&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_dimensions.jl#L271-L297">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.dim_units"><a class="docstring-binding" href="#ClimaAnalysis.Var.dim_units"><code>ClimaAnalysis.Var.dim_units</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">dim_units(var::OutputVar, dim_name)</code></pre><p>Return the <code>units</code> of the given <code>dim_name</code> in <code>var</code>, if available.</p><p>If not available, return an empty string.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1083-L1089">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.range_dim"><a class="docstring-binding" href="#ClimaAnalysis.Var.range_dim"><code>ClimaAnalysis.Var.range_dim</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">range_dim(var::OutputVar, dim_name)</code></pre><p>Return the range of the dimension <code>dim_name</code> in <code>var</code>.</p><p>Range here is a tuple with the minimum and maximum of <code>dim_name</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1096-L1102">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.permutedims-Tuple{OutputVar, Any}"><a class="docstring-binding" href="#Base.permutedims-Tuple{OutputVar, Any}"><code>Base.permutedims</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">permutedims(var::OutputVar, perm)</code></pre><p>Permute the dimensions of <code>var</code> according to <code>perm</code>, an iterable of dimension names specifying the permutation.</p><p>The dimension names in <code>perm</code> does not need to be the same as the dimensions in <code>var</code>. For example, dimensions with names <code>lon</code> and <code>long</code> are identified as the longitude dimension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1450-L1458">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.reordered_as"><a class="docstring-binding" href="#ClimaAnalysis.Var.reordered_as"><code>ClimaAnalysis.Var.reordered_as</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">reordered_as(src_var::OutputVar, dest_var::OutputVar)</code></pre><p>Reorder the dimensions in <code>src_var</code> to match the ordering of dimensions in <code>dest_var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1502-L1506">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.resampled_as"><a class="docstring-binding" href="#ClimaAnalysis.Var.resampled_as"><code>ClimaAnalysis.Var.resampled_as</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">resampled_as(src_var::OutputVar, dest_var::OutputVar, dim_names = nothing)</code></pre><p>Resample <code>data</code> in <code>src_var</code> to <code>dims</code> in <code>dest_var</code>.</p><p>The resampling performed here is a 1st-order linear resampling.</p><p>If the string or iterable <code>dim_names</code> is <code>nothing</code>, then resampling is done over all dimensions. Otherwise, resampling is done over the dimensions in <code>dim_names</code>.</p><div class="admonition is-info" id="Automatic-reordering-26d00a5791922ec2"><header class="admonition-header">Automatic reordering<a class="admonition-anchor" href="#Automatic-reordering-26d00a5791922ec2" title="Permalink"></a></header><div class="admonition-body"><p>If resampling is done over all dimensions, then reordering the dimensions of the resulting <code>OutputVar</code> is automatically done.</p></div></div><p>The correct dimension to resample on is identified by using <code>conventional_dim_name</code>. For example, if <code>src_var</code> has a longitude dimension named <code>lon</code>, <code>dest_var</code> has a longitude dimension named <code>long</code>, and <code>dim_names</code> is <code>longitude</code>, then resampling is done on the longitude dimension because <code>conventional_dim_name</code> maps <code>lon</code>, <code>long</code>, and <code>longitude</code> to <code>longitude</code>.</p><div class="admonition is-compat" id="dim_names-keyword-argument-c9abfae91bc6ca70"><header class="admonition-header">`dim_names` keyword argument<a class="admonition-anchor" href="#dim_names-keyword-argument-c9abfae91bc6ca70" title="Permalink"></a></header><div class="admonition-body"><p>The keyword argument <code>dim_names</code> is introduced in ClimaAnalysis v0.5.14.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1520-L1543">source</a></section><section><div><pre><code class="language-julia hljs">resampled_as(src_var::OutputVar, kwargs...)</code></pre><p>Resample <code>data</code> in <code>src_var</code> to dimensions as defined by the keyword arguments.</p><p>The resampling performed here is a 1st-order linear resampling.</p><p>For example, to resample on the longitude dimension of <code>[0.0, 1.0, 2.0]</code>, one can do <code>resampled_as(src_var, lon = [0.0, 1.0, 2.0])</code>.</p><p>If the dimensions in <code>dims</code> and <code>src_var.dims</code> match (ignoring order), the resulting <code>OutputVar</code> will have its dimensions reordered to match the order in <code>dims</code>. Otherwise, the dimensions of the resulting <code>OutputVar</code> will remain unchanged. If the dimensions of <code>dims</code> is a strict subset of the dimensions in <code>src_var</code>, then partial resampling is done instead.</p><p>Note that there is no checking for units of the dimensions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1640-L1656">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.convert_units"><a class="docstring-binding" href="#ClimaAnalysis.Var.convert_units"><code>ClimaAnalysis.Var.convert_units</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Var.convert_units(var, new_units; conversion_function = nothing)</code></pre><p>Return a new <code>OutputVar</code> with converted physical units of <code>var</code> to <code>new_units</code>, if possible.</p><p>Automatic conversion happens when the units for <code>var</code> and <code>new_units</code> are both parseable. When <code>var</code> does not have units (see also <a href="#ClimaAnalysis.Var.has_units"><code>Var.has_units</code></a>) or has no parseable units, a conversion function <code>conversion_function</code> is required.</p><p><code>conversion_function</code> has to be a function that takes one data point and returns the transformed value.</p><p>Being parseable means that <code>Unitful.uparse</code> can parse the expression. Please, refer to the documentation for <a href="https://painterqubits.github.io/Unitful.jl/stable/">Unitful.jl</a> for more information.</p><p><strong>Examples</strong></p><p>Let us set up a trivial 1D <code>OutputVar</code> with units of meters per second and automatically convert it to centimeters per second.</p><pre><code class="language-julia-repl hljs">julia&gt; values = 0:100.0 |&gt; collect;

julia&gt; data = copy(values);

julia&gt; attribs = Dict(&quot;long_name&quot; =&gt; &quot;speed&quot;, &quot;units&quot; =&gt; &quot;m/s&quot;);

julia&gt; dim_attribs = Dict{String, Dict}();

julia&gt; var = ClimaAnalysis.OutputVar(attribs, Dict(&quot;distance&quot; =&gt; values), dim_attribs, data);

julia&gt; ClimaAnalysis.has_units(var)
true

julia&gt; var_cms = ClimaAnalysis.convert_units(var, &quot;cm/s&quot;);

julia&gt; extrema(var_cms.data)
(0.0, 10000.0)</code></pre><p>Not all the units can be properly parsed, for example, assuming <code>bob=5lol</code></p><pre><code class="language-julia-repl hljs">julia&gt; attribs = Dict(&quot;long_name&quot; =&gt; &quot;speed&quot;, &quot;units&quot; =&gt; &quot;bob/s&quot;);

julia&gt; var_bob = ClimaAnalysis.OutputVar(attribs, Dict(&quot;distance&quot; =&gt; values), dim_attribs, data);

julia&gt; var_lols = ClimaAnalysis.convert_units(var, &quot;lol/s&quot;, conversion_function = (x) -&gt; 5x);

julia&gt; extrema(var_lols.data)
(0.0, 500.0)</code></pre><p>Failure to specify the <code>conversion_function</code> will produce an error.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L524-L580">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.set_units"><a class="docstring-binding" href="#ClimaAnalysis.Var.set_units"><code>ClimaAnalysis.Var.set_units</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">set_units(var::OutputVar, units::AbstractString)</code></pre><p>Set <code>units</code> for data in <code>var</code>.</p><div class="admonition is-warning" id="Override-existing-units-63c84a594d167d9"><header class="admonition-header">Override existing units<a class="admonition-anchor" href="#Override-existing-units-63c84a594d167d9" title="Permalink"></a></header><div class="admonition-body"><p>If units already exist, this will override the units for data in <code>var</code>. To convert units, see <a href="#ClimaAnalysis.Var.convert_units"><code>Var.convert_units</code></a></p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L622-L630">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.convert_dim_units"><a class="docstring-binding" href="#ClimaAnalysis.Var.convert_dim_units"><code>ClimaAnalysis.Var.convert_dim_units</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Var.convert_dim_units(var, dim_name, new_units; conversion_function = nothing)</code></pre><p>Return a new OutputVar with converted physical units of <code>dim_name</code> to <code>new_units</code> using <code>conversion_function</code></p><p>This function does not support Unitful, so the parameter <code>conversion_function</code> must be supplied.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L583-L591">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.set_dim_units!"><a class="docstring-binding" href="#ClimaAnalysis.Var.set_dim_units!"><code>ClimaAnalysis.Var.set_dim_units!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">set_dim_units!(var::OutputVar, dim_name::AbstractString, units::AbstractString)</code></pre><p>Set <code>units</code> for the <code>dim_name</code> dimension in <code>var</code>.</p><div class="admonition is-warning" id="Override-existing-units-1a1873420bb866c5"><header class="admonition-header">Override existing units<a class="admonition-anchor" href="#Override-existing-units-1a1873420bb866c5" title="Permalink"></a></header><div class="admonition-body"><p>If units already exist for the dimension, this will override the units for the dimension in <code>var</code>.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L636-L644">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.set_short_name!"><a class="docstring-binding" href="#ClimaAnalysis.Var.set_short_name!"><code>ClimaAnalysis.Var.set_short_name!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">set_short_name!(var, short_name)</code></pre><p>Set the <code>short_name</code> attribute for <code>var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L659-L663">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.integrate_lonlat"><a class="docstring-binding" href="#ClimaAnalysis.Var.integrate_lonlat"><code>ClimaAnalysis.Var.integrate_lonlat</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">integrate_lonlat(var::OutputVar)</code></pre><p>Integrate <code>data</code> in <code>var</code> on longitude and latitude with a first-order scheme. <code>data</code> has to be discretized on longitude and latitude.</p><p>If the points are equispaced, it is assumed that each point correspond to the midpoint of a cell which results in rectangular integration using the midpoint rule. Otherwise, the integration being done is rectangular integration using the left endpoints for integrating longitude and latitude. The units for longitude and latitude should be degrees.</p><p>All <code>NaN</code>s in <code>var.data</code> are treated as zeros when integrating.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1693-L1705">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.integrate_lat"><a class="docstring-binding" href="#ClimaAnalysis.Var.integrate_lat"><code>ClimaAnalysis.Var.integrate_lat</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">integrate_lat(var::OutputVar)</code></pre><p>Integrate <code>data</code> in <code>var</code> on latitude with a first-order scheme. <code>data</code> has to be discretized on latitude.</p><p>If the points are equispaced, it is assumed that each point correspond to the midpoint of a cell which results in rectangular integration using the midpoint rule. Otherwise, the integration being done is rectangular integration using the left endpoints. The unit for latitude should be degrees.</p><p>All <code>NaN</code>s in <code>var.data</code> are treated as zeros when integrating.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1735-L1747">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.integrate_lon"><a class="docstring-binding" href="#ClimaAnalysis.Var.integrate_lon"><code>ClimaAnalysis.Var.integrate_lon</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">integrate_lon(var::OutputVar)</code></pre><p>Integrate <code>data</code> in <code>var</code> on longitude with a first-order scheme. <code>data</code> has to be discretized on longitude.</p><p>If the points are equispaced, it is assumed that each point correspond to the midpoint of a cell which results in rectangular integration using the midpoint rule. Otherwise, the integration being done is rectangular integration using the left endpoints. The unit for longitude should be degrees.</p><p>All <code>NaN</code>s in <code>var.data</code> are treated as zeros when integrating.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1716-L1728">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Utils.split_by_season-Tuple{OutputVar}"><a class="docstring-binding" href="#ClimaAnalysis.Utils.split_by_season-Tuple{OutputVar}"><code>ClimaAnalysis.Utils.split_by_season</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">split_by_season(var::OutputVar; seasons = (&quot;MAM&quot;, &quot;JJA&quot;, &quot;SON&quot;, &quot;DJF&quot;))</code></pre><p>Return a vector of four <code>OutputVar</code>s split by season.</p><p>The months of the seasons are March to May (MAM), June to August (JJA), September to November (SON), and December to February (JDF). The order of the vector is MAM, JJA, SON, and DJF. If there are no dates found for a season, then the <code>OutputVar</code> for that season will be an empty <code>OutputVar</code>. For non-empty OutputVars, the season can be found by <code>var.attributes[&quot;season&quot;]</code>.</p><p>The function will use the start date in <code>var.attributes[&quot;start_date&quot;]</code>. The unit of time is expected to be second.</p><div class="admonition is-info" id="Interpolating-between-seasons-e0dddc43119a9bf3"><header class="admonition-header">Interpolating between seasons<a class="admonition-anchor" href="#Interpolating-between-seasons-e0dddc43119a9bf3" title="Permalink"></a></header><div class="admonition-body"><p>Interpolations will be inaccurate in time intervals outside of their respective season for the returned <code>OutputVar</code>s. For example, if an <code>OutputVar</code> has the dates 2010-2-1, 2010-3-1, 2010-4-1, and 2011-2-1 after splitting by seasons, then any interpolation in time between the dates 2010-4-1 and 2011-2-1 will be inaccurate.</p></div></div><p>This function differs from <code>split_by_season_across_time</code> as <code>split_by_season_across_time</code> splits dates by season for each year.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1797-L1819">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Utils.split_by_season_across_time-Tuple{OutputVar}"><a class="docstring-binding" href="#ClimaAnalysis.Utils.split_by_season_across_time-Tuple{OutputVar}"><code>ClimaAnalysis.Utils.split_by_season_across_time</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">split_by_season_across_time(var::OutputVar)</code></pre><p>Split <code>var</code> into <code>OutputVar</code>s representing seasons, sorted in chronological order. Each <code>OutputVar</code> corresponds to a single season, and the ordering of the <code>OutputVar</code>s is determined by the dates of the season. The return type is a vector of <code>OutputVar</code>s.</p><p>The months of the seasons are March to May (MAM), June to August (JJA), September to November (SON), and December to February (DJF). If there are no dates found for a season, then the <code>OutputVar</code> for that season will be an empty <code>OutputVar</code>. The first <code>OutputVar</code> is guaranteed to not be empty. For non-empty <code>OutputVar</code>s, the season can be found by <code>var.attributes[&quot;season&quot;]</code>.</p><p>Also, for non-empty <code>OutputVar</code>s, the year can be found by <code>var.attributes[&quot;year&quot;]</code>. The convention used is that the second month of the season determines the year. For example, the year of DJF is the same year as Janauary.</p><p>The function will use the start date in <code>var.attributes[&quot;start_date&quot;]</code>. The unit of time is expected to be second.</p><p>This function differs from <code>split_by_season</code> as <code>split_by_season</code> splits dates by season and ignores that seasons can come from different years.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1838-L1860">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.average_season_across_time"><a class="docstring-binding" href="#ClimaAnalysis.Var.average_season_across_time"><code>ClimaAnalysis.Var.average_season_across_time</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">average_season_across_time(var::OutputVar; ignore_nan = true)</code></pre><p>Return a new OutputVar where the seasons are averaged arithmetically in time.</p><p>The values of time dimension of <code>var</code> correspond to the first date for the season.</p><p>The months of the seasons are March to May (MAM), June to August (JJA), September to November (SON), and December to February (DJF). If there are no dates found for a season, then the season is skipped. The season can be found by <code>var.attributes[&quot;season&quot;]</code>, which returns a vector of season names.</p><p>The year can be found by <code>var.attributes[&quot;year&quot;]</code>, which returns a vector of years as strings. The convention used is that the second month of the season determines the year. For example, the year of DJF is the same year as Janauary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1936-L1951">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Utils.split_by_month-Tuple{OutputVar}"><a class="docstring-binding" href="#ClimaAnalysis.Utils.split_by_month-Tuple{OutputVar}"><code>ClimaAnalysis.Utils.split_by_month</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">split_by_month(var::OutputVar)</code></pre><p>Split <code>var</code> into <code>OutputVar</code>s representing months, sorted in chronological order. Each <code>OutputVar</code> corresponds to a single month, and the ordering of the <code>OutputVar</code>s is determined by the dates of the month. The return type is a vector of <code>OutputVar</code>s.</p><p>If there are no dates found for a month, then the <code>OutputVar</code> for that season will be an empty <code>OutputVar</code>. For non-empty <code>OutputVar</code>s, the month can be found by <code>var.attributes[&quot;month&quot;]</code>.</p><p>The function will use the start date in <code>var.attributes[&quot;start_date&quot;]</code>. The unit of time is expected to be second.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L1889-L1902">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.bias"><a class="docstring-binding" href="#ClimaAnalysis.Var.bias"><code>ClimaAnalysis.Var.bias</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">bias(sim::OutputVar, obs::OutputVar; mask = nothing)</code></pre><p>Return a <code>OutputVar</code> whose data is the bias (<code>sim.data - obs.data</code>) and compute the global bias of <code>data</code> in <code>sim</code> and <code>obs</code> over longitude and latitude. The result is stored in <code>var.attributes[&quot;global_bias&quot;]</code>.</p><p>This function is currently implemented for <code>OutputVar</code>s with only the dimensions longitude and latitude. Units must be supplied for data and dimensions in <code>sim</code> and <code>obs</code>. The units for longitude and latitude should be degrees. Resampling is done automatically by resampling <code>obs</code> on <code>sim</code>. Attributes in <code>sim</code> and <code>obs</code> will be thrown away. The long name and short name of the returned <code>OutputVar</code> will be updated to reflect that a bias is computed.</p><p>The parameter <code>mask</code> is a function that masks a <code>OutputVar</code>. See <a href="#ClimaAnalysis.Var.apply_landmask"><code>apply_landmask</code></a> and <a href="#ClimaAnalysis.Var.apply_oceanmask"><code>apply_oceanmask</code></a>.</p><p>See also <a href="#ClimaAnalysis.Var.global_bias"><code>global_bias</code></a>, <a href="#ClimaAnalysis.Var.squared_error"><code>squared_error</code></a>, <a href="#ClimaAnalysis.Var.global_mse"><code>global_mse</code></a>, <a href="#ClimaAnalysis.Var.global_rmse"><code>global_rmse</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2068-L2086">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.global_bias"><a class="docstring-binding" href="#ClimaAnalysis.Var.global_bias"><code>ClimaAnalysis.Var.global_bias</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">global_bias(sim::OutputVar, obs::OutputVar; mask = nothing)</code></pre><p>Return the global bias of <code>data</code> in <code>sim</code> and <code>obs</code> over longitude and latitude.</p><p>This function is currently only implemented for <code>OutputVar</code>s with only the dimensions longitude and latitude. Units must be supplied for data and dimensions in <code>sim</code> and <code>obs</code>. The units for longitude and latitude should be degrees. Resampling is done automatically by resampling <code>obs</code> on <code>sim</code>.</p><p>The parameter <code>mask</code> is a function that masks a <code>OutputVar</code>. See <a href="#ClimaAnalysis.Var.apply_landmask"><code>apply_landmask</code></a> and <a href="#ClimaAnalysis.Var.apply_oceanmask"><code>apply_oceanmask</code></a>.</p><p>See also <a href="#ClimaAnalysis.Var.bias"><code>bias</code></a>, <a href="#ClimaAnalysis.Var.squared_error"><code>squared_error</code></a>, <a href="#ClimaAnalysis.Var.global_mse"><code>global_mse</code></a>, <a href="#ClimaAnalysis.Var.global_rmse"><code>global_rmse</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2130-L2145">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.squared_error"><a class="docstring-binding" href="#ClimaAnalysis.Var.squared_error"><code>ClimaAnalysis.Var.squared_error</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">squared_error(sim::OutputVar, obs::OutputVar; mask = nothing)</code></pre><p>Return a <code>OutputVar</code> whose data is the squared error (<code>(sim.data - obs.data)^2</code>) and compute the global mean squared error (MSE) and global root mean squared error (RMSE) of <code>data</code> in <code>sim</code> and <code>obs</code> over longitude and latitude. The result is stored in <code>var.attributes[&quot;global_mse&quot;]</code> and <code>var.attributes[&quot;global_rmse&quot;]</code>.</p><p>This function is currently implemented for <code>OutputVar</code>s with only the dimensions longitude and latitude. Units must be supplied for data and dimensions in <code>sim</code> and <code>obs</code>. The units for longitude and latitude should be degrees. Resampling is done automatically by resampling <code>obs</code> on <code>sim</code>. Attributes in <code>sim</code> and <code>obs</code> will be thrown away. The long name and short name of the returned <code>OutputVar</code> will be updated to reflect that a squared error is computed.</p><p>The parameter <code>mask</code> is a function that masks a <code>OutputVar</code>. See <a href="#ClimaAnalysis.Var.apply_landmask"><code>apply_landmask</code></a> and <a href="#ClimaAnalysis.Var.apply_oceanmask"><code>apply_oceanmask</code></a>.</p><p>See also <a href="#ClimaAnalysis.Var.global_mse"><code>global_mse</code></a>, <a href="#ClimaAnalysis.Var.global_rmse"><code>global_rmse</code></a>, <a href="#ClimaAnalysis.Var.bias"><code>bias</code></a>, <a href="#ClimaAnalysis.Var.global_bias"><code>global_bias</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2151-L2169">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.global_mse"><a class="docstring-binding" href="#ClimaAnalysis.Var.global_mse"><code>ClimaAnalysis.Var.global_mse</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">global_mse(sim::OutputVar, obs::OutputVar; mask = nothing)</code></pre><p>Return the global mean squared error (MSE) of <code>data</code> in <code>sim</code> and <code>obs</code> over longitude and latitude.</p><p>This function is currently implemented for <code>OutputVar</code>s with only the dimensions longitude and latitude. Units must be supplied for data and dimensions in <code>sim</code> and <code>obs</code>. The units for longitude and latitude should be degrees. Resampling is done automatically by resampling <code>obs</code> on <code>sim</code>.</p><p>The parameter <code>mask</code> is a function that masks a <code>OutputVar</code>. See <a href="#ClimaAnalysis.Var.apply_landmask"><code>apply_landmask</code></a> and <a href="#ClimaAnalysis.Var.apply_oceanmask"><code>apply_oceanmask</code></a>.</p><p>See also <a href="#ClimaAnalysis.Var.squared_error"><code>squared_error</code></a>, <a href="#ClimaAnalysis.Var.global_rmse"><code>global_rmse</code></a>, <a href="#ClimaAnalysis.Var.bias"><code>bias</code></a>, <a href="#ClimaAnalysis.Var.global_bias"><code>global_bias</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2222-L2237">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.global_rmse"><a class="docstring-binding" href="#ClimaAnalysis.Var.global_rmse"><code>ClimaAnalysis.Var.global_rmse</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">global_rmse(sim::OutputVar, obs::OutputVar; mask = nothing)</code></pre><p>Return the global root mean squared error (RMSE) of <code>data</code> in <code>sim</code> and <code>obs</code> over longitude and latitude.</p><p>This function is currently implemented for <code>OutputVar</code>s with only the dimensions longitude and latitude. Units must be supplied for data and dimensions in <code>sim</code> and <code>obs</code>. The units for longitude and latitude should be degrees. Resampling is done automatically by resampling <code>obs</code> on <code>sim</code>.</p><p>The parameter <code>mask</code> is a function that masks a <code>OutputVar</code>. See <a href="#ClimaAnalysis.Var.apply_landmask"><code>apply_landmask</code></a> and <a href="#ClimaAnalysis.Var.apply_oceanmask"><code>apply_oceanmask</code></a>.</p><p>See also <a href="#ClimaAnalysis.Var.squared_error"><code>squared_error</code></a>, <a href="#ClimaAnalysis.Var.global_mse"><code>global_mse</code></a>, <a href="#ClimaAnalysis.Var.bias"><code>bias</code></a>, <a href="#ClimaAnalysis.Var.global_bias"><code>global_bias</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2243-L2258">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.shift_to_start_of_previous_month"><a class="docstring-binding" href="#ClimaAnalysis.Var.shift_to_start_of_previous_month"><code>ClimaAnalysis.Var.shift_to_start_of_previous_month</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">shift_to_start_of_previous_month(var::OutputVar)</code></pre><p>Shift the times in the time dimension to the start of the previous month.</p><p>After applying this function, the start date in the attributes correspond to the first element in the time array.</p><p>This function is helpful in ensuring consistency in dates between simulation and observational data. One example of this is when adjusting monthly averaged data. For instance, suppose that data on 2010-02-01 in the <code>OutputVar</code> corresponds to the monthly average for January. This function shifts the times so that 2010-01-01 will correspond to the monthly average for January.</p><p>Note that this function only works for the time dimension and will not work for the date dimension.</p><p>See also <a href="#ClimaAnalysis.Var.shift_to_previous_week"><code>shift_to_previous_week</code></a> and <a href="#ClimaAnalysis.Var.shift_to_previous_day"><code>shift_to_previous_day</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2341-L2359">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.shift_to_previous_week"><a class="docstring-binding" href="#ClimaAnalysis.Var.shift_to_previous_week"><code>ClimaAnalysis.Var.shift_to_previous_week</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">shift_to_previous_week(var::OutputVar)</code></pre><p>Shift the times in the time dimension to the previous week.</p><p>After applying this function, the start date in the attributes correspond to the first element in the time array.</p><p>Note that this function only works for the time dimension and will not work for the date dimension.</p><p>See also <a href="#ClimaAnalysis.Var.shift_to_start_of_previous_month"><code>shift_to_start_of_previous_month</code></a> and <a href="#ClimaAnalysis.Var.shift_to_previous_day"><code>shift_to_previous_day</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2384-L2396">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.shift_to_previous_day"><a class="docstring-binding" href="#ClimaAnalysis.Var.shift_to_previous_day"><code>ClimaAnalysis.Var.shift_to_previous_day</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">shift_to_previous_day(var::OutputVar)</code></pre><p>Shift the times in the time dimension to the previous day.</p><p>After applying this function, the start date in the attributes correspond to the first element in the time array.</p><p>Note that this function only works for the time dimension and will not work for the date dimension.</p><p>See also <a href="#ClimaAnalysis.Var.shift_to_start_of_previous_month"><code>shift_to_start_of_previous_month</code></a> and <a href="#ClimaAnalysis.Var.shift_to_previous_week"><code>shift_to_previous_week</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2367-L2379">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.transform_dates"><a class="docstring-binding" href="#ClimaAnalysis.Var.transform_dates"><code>ClimaAnalysis.Var.transform_dates</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">transform_dates(var::OutputVar, date_func)</code></pre><p>Apply <code>date_func</code> element-wise to the dates in <code>var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2401-L2405">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.LonLatMask"><a class="docstring-binding" href="#ClimaAnalysis.Var.LonLatMask"><code>ClimaAnalysis.Var.LonLatMask</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Representing a mask that can be applied to a `OutputVar`.</code></pre><p><code>LonLatMask</code> is a struct that is callable. If <code>mask</code> is a <code>LonLatMask</code>, you can apply the mask by doing <code>mask(var)</code>, where <code>var</code> is a <code>OutputVar</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/masks.jl#L45-L50">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.apply_landmask"><a class="docstring-binding" href="#ClimaAnalysis.Var.apply_landmask"><code>ClimaAnalysis.Var.apply_landmask</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">apply_landmask(var::OutputVar; threshold = 0.5)</code></pre><p>Apply a land mask to <code>var</code> by NaNing any data whose coordinates are located on land.</p><div class="admonition is-info" id="Threshold-keyword-argument-bc1bd56f26a36f7c"><header class="admonition-header">Threshold keyword argument<a class="admonition-anchor" href="#Threshold-keyword-argument-bc1bd56f26a36f7c" title="Permalink"></a></header><div class="admonition-body"><p>The <code>threshold</code> keyword argument is available in ClimaAnalysis v0.5.19 and beyond.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/masks.jl#L218-L225">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.apply_oceanmask"><a class="docstring-binding" href="#ClimaAnalysis.Var.apply_oceanmask"><code>ClimaAnalysis.Var.apply_oceanmask</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">apply_oceanmask(var::OutputVar; threshold = 0.5)</code></pre><p>Apply an ocean mask to <code>var</code> by NaNing any data whose coordinates are in the ocean.</p><div class="admonition is-info" id="Threshold-keyword-argument-ea1c3b7d5ef5a53e"><header class="admonition-header">Threshold keyword argument<a class="admonition-anchor" href="#Threshold-keyword-argument-ea1c3b7d5ef5a53e" title="Permalink"></a></header><div class="admonition-body"><p>The <code>threshold</code> keyword argument is available in ClimaAnalysis v0.5.18 and beyond.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/masks.jl#L231-L238">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.generate_lonlat_mask"><a class="docstring-binding" href="#ClimaAnalysis.Var.generate_lonlat_mask"><code>ClimaAnalysis.Var.generate_lonlat_mask</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">generate_lonlat_mask(var::OutputVar, zero_to, one_to; threshold = 0.5)</code></pre><p>Returns a masking function that takes an <code>OutputVar</code> and masks its data using <code>var.data</code>, which contains only zeros and ones.</p><p>The data in <code>var</code> is resampled to match the dimensions of the <code>OutputVar</code>. After resampling, values greater than or equal to <code>threshold</code> are rounded to one and all other values are rounded to zero. Zeros are replaced with <code>zero_to</code>, and ones are replaced with <code>one_to</code>. The masking is applied as element wise multiplication.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/masks.jl#L70-L80">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.generate_land_mask"><a class="docstring-binding" href="#ClimaAnalysis.Var.generate_land_mask"><code>ClimaAnalysis.Var.generate_land_mask</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">generate_land_mask(land, ocean; threshold = 0.5)</code></pre><p>Generate a land mask, where values on the land are multiplied by <code>land</code> and values on the ocean are multipled by <code>ocean</code>.</p><p>The land mask is a binary mask, where zeros represent the land and ones represent the ocean.</p><p>See <a href="#ClimaAnalysis.Var.generate_lonlat_mask"><code>ClimaAnalysis.Var.generate_lonlat_mask</code></a> for more information about the masking procedure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/masks.jl#L112-L122">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.generate_ocean_mask"><a class="docstring-binding" href="#ClimaAnalysis.Var.generate_ocean_mask"><code>ClimaAnalysis.Var.generate_ocean_mask</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">generate_ocean_mask(ocean, land; threshold = 0.5)</code></pre><p>Generate an ocean mask, where values on the land are multiplied by <code>land</code> and values on the ocean are multipled by <code>ocean</code>.</p><p>The ocean mask is a binary mask, where zeros represent the ocean and ones represent the land.</p><p>See <a href="#ClimaAnalysis.Var.generate_lonlat_mask"><code>ClimaAnalysis.Var.generate_lonlat_mask</code></a> for more information about the masking procedure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/masks.jl#L136-L147">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.make_lonlat_mask"><a class="docstring-binding" href="#ClimaAnalysis.Var.make_lonlat_mask"><code>ClimaAnalysis.Var.make_lonlat_mask</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">make_lonlat_mask(var;
                 set_to_val = nothing,
                 true_val = NaN,
                 false_val = 1.0)</code></pre><p>Return a masking function that takes in a <code>OutputVar</code> and mask the data using <code>var.data</code>.</p><p>The parameter <code>set_to_val</code> is a function that takes in an element of <code>var.data</code> and return <code>true</code> or <code>false</code>. If <code>set_to_val</code> returns <code>true</code>, then the value will be <code>true_val</code> in the mask and if <code>set_to_nan</code> returns <code>false</code>, then the value will be <code>false_val</code> in the mask.</p><p>If <code>set_to_val</code> is <code>nothing</code>, then no transformation is done and <code>var.data</code> is used. This is helpful if <code>var.data</code> is already an array of NaNs and ones or an array of zeros and ones.</p><div class="admonition is-warning" id="Deprecated-67be729fafcab2b7"><header class="admonition-header">Deprecated<a class="admonition-anchor" href="#Deprecated-67be729fafcab2b7" title="Permalink"></a></header><div class="admonition-body"><p>This function is deprecated and users are encouraged to use <a href="#ClimaAnalysis.Var.generate_lonlat_mask"><code>generate_lonlat_mask</code></a> instead.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/masks.jl#L244-L262">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.replace-Tuple{OutputVar, Vararg{Pair}}"><a class="docstring-binding" href="#Base.replace-Tuple{OutputVar, Vararg{Pair}}"><code>Base.replace</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">replace(var::OutputVar, old_new::Pair...)</code></pre><p>Return a <code>OutputVar</code> where, for each pair <code>old  =&gt; new</code>, all occurences of <code>old</code> are replaced by <code>new</code> in <code>var.data</code></p><p>This function is useful if there are <code>NaN</code>s or <code>missing</code> values in the data. For instance, you want to use the ocean mask, but there are <code>NaN</code>s in the ocean. You can replace all the <code>NaN</code> and <code>missing</code> values with 0.0 and apply the ocean mask afterward.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2431-L2440">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.replace-Tuple{Union{Function, Type}, OutputVar}"><a class="docstring-binding" href="#Base.replace-Tuple{Union{Function, Type}, OutputVar}"><code>Base.replace</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">replace!(new::Union{Function, Type}, var::OutputVar; [count::Integer])</code></pre><p>Return a new <code>OutputVar where each value of</code>var.data<code>is replaced by</code>new(x)<code>. If</code>count<code>is specified, then replace at most</code>count` values in total.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2469-L2474">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.replace!-Tuple{OutputVar, Vararg{Pair}}"><a class="docstring-binding" href="#Base.replace!-Tuple{OutputVar, Vararg{Pair}}"><code>Base.replace!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">replace!(var::OutputVar, old_new::Pair...; [count::Integer])</code></pre><p>For each pair <code>old  =&gt; new</code>, all occurences of <code>old</code> are replaced by <code>new</code> in <code>var.data</code>. See <a href="#Base.replace-Tuple{OutputVar, Vararg{Pair}}"><code>replace</code></a>.</p><p>This function is useful if there are <code>NaN</code>s or <code>missing</code> values in the data. For instance, you want to use the ocean mask, but there are <code>NaN</code>s in the ocean. You can replace all the <code>NaN</code> and <code>missing</code> values with 0.0 and apply the ocean mask afterward.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2450-L2459">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.replace!-Tuple{Union{Function, Type}, OutputVar}"><a class="docstring-binding" href="#Base.replace!-Tuple{Union{Function, Type}, OutputVar}"><code>Base.replace!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">replace!(new::Union{Function, Type}, var::OutputVar; [count::Integer])</code></pre><p>Return each value of <code>var.data</code> by <code>new(x)</code>. If <code>count</code> is specified, then replace at most <code>count</code> values in total.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2484-L2489">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.cat-Tuple{Vararg{OutputVar}}"><a class="docstring-binding" href="#Base.cat-Tuple{Vararg{OutputVar}}"><code>Base.cat</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">Base.cat(vars::OutputVar...; dims::String)</code></pre><p>Concatenate <code>vars</code> along the dimension <code>dims</code>.</p><p>This function is helpful if you need to concatenate <code>OutputVar</code>s after applying <code>split_by_season_across_time</code> or <code>window</code>.</p><p>This function does not support concatenating <code>OutputVar</code>s of different quantities as determined by the <code>short_name</code>.</p><p>Attributes that are not <code>start_date</code>, <code>short_name</code>, or &quot;units&quot; are discarded in the process.</p><p>Note that concatenation along multiple dimensions is not possible.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2542-L2556">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.reverse_dim"><a class="docstring-binding" href="#ClimaAnalysis.Var.reverse_dim"><code>ClimaAnalysis.Var.reverse_dim</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">reverse_dim(var::OutputVar, dim_name)</code></pre><p>Reverse a dimension by name.</p><p>This function is helpful if the order of a dimension need to be reversed, so that an interpolant can be made.</p><p>See also in-place <a href="#ClimaAnalysis.Var.reverse_dim!"><code>reverse_dim!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2499-L2508">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.reverse_dim!"><a class="docstring-binding" href="#ClimaAnalysis.Var.reverse_dim!"><code>ClimaAnalysis.Var.reverse_dim!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">reverse_dim!(var::OutputVar, dim_name)</code></pre><p>Like <a href="#ClimaAnalysis.Var.reverse_dim"><code>reverse_dim</code></a>, but operates in-place in <code>var</code>.</p><p>This function is helpful if the order of a dimension need to be reversed, so that an interpolant can be made.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2521-L2528">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.show-Tuple{IO, OutputVar}"><a class="docstring-binding" href="#Base.show-Tuple{IO, OutputVar}"><code>Base.show</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">Base.show(io::IO, var::OutputVar)</code></pre><p>Pretty print the contents of an <code>OutputVar</code>.</p><p>Print the attributes, dimension attributes, and dimensions that the data is defined over.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Var.jl#L2656-L2663">source</a></section></details></article><h2 id="Selectors"><a class="docs-heading-anchor" href="#Selectors">Selectors</a><a id="Selectors-1"></a><a class="docs-heading-anchor-permalink" href="#Selectors" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.AbstractSelector"><a class="docstring-binding" href="#ClimaAnalysis.Var.AbstractSelector"><code>ClimaAnalysis.Var.AbstractSelector</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AbstractSelector</code></pre><p>An object that determines which indices are selected.</p><p><code>AbstractSelector</code>s have to provide one function, <code>get_index</code></p><p>The function has to have the signature <code>get_index(var, dim_name, idx_or_val, ::AbstractSelector)</code> and return a single index. You can assume that <code>dim_name</code> is in <code>keys(var.dims)</code>.</p><p>The function <code>get_index</code> is used by <a href="#ClimaAnalysis.Var.slice"><code>slice</code></a> and <a href="#ClimaAnalysis.Var.window"><code>window</code></a>. For instance, if you use <code>ClimaAnalysis.slice(var, time = 2)</code>, then <code>dim_name</code> is <code>time</code>, and <code>idx_or_val</code> is <code>2</code>.</p><p>For example, to implement an <code>AbstractSelector</code> that always take the first index of the dimension regardless of the value or index passed in, you can write the following:</p><pre><code class="language-julia hljs">struct FirstIndex &lt;: ClimaAnalysis.AbstractSelector end

function ClimaAnalysis.get_index(var, dim_name, idx_or_val, ::FirstIndex)
    return 1
end

# Get the first time slice of var. The parameter 10 does not do anything.
ClimaAnalysis.slice(var, time = 10, by = FirstIndex())</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_selectors.jl#L11-L39">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.NearestValue"><a class="docstring-binding" href="#ClimaAnalysis.Var.NearestValue"><code>ClimaAnalysis.Var.NearestValue</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">NearestValue</code></pre><p>Get the index of the nearest value.</p><p>If the dimension is not one dimesional, then an error is thrown.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_selectors.jl#L42-L48">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.MatchValue"><a class="docstring-binding" href="#ClimaAnalysis.Var.MatchValue"><code>ClimaAnalysis.Var.MatchValue</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">MatchValue</code></pre><p>Get the index of the approximately matched value.</p><p>If the value does not exist, or the dimension is not one-dimensional, then an error is thrown.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_selectors.jl#L51-L58">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.Index"><a class="docstring-binding" href="#ClimaAnalysis.Var.Index"><code>ClimaAnalysis.Var.Index</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Index</code></pre><p>Select the index in the dimension.</p><p>If the index is out of bounds, then an error is thrown.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_selectors.jl#L61-L67">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.get_index-Tuple{Any, Any, Any, NearestValue}"><a class="docstring-binding" href="#ClimaAnalysis.Var.get_index-Tuple{Any, Any, Any, NearestValue}"><code>ClimaAnalysis.Var.get_index</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">get_index(var, dim_name, val, ::NearestValue)</code></pre><p>Get the index corresponding to the nearest value to <code>val</code> in the <code>dim_name</code> dimension.</p><p>This function assumes that <code>dim_name</code> exists in <code>var</code>, and the <code>dim_name</code> dimension is one-dimensional.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_selectors.jl#L243-L250">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.get_index-Tuple{Any, Any, Any, MatchValue}"><a class="docstring-binding" href="#ClimaAnalysis.Var.get_index-Tuple{Any, Any, Any, MatchValue}"><code>ClimaAnalysis.Var.get_index</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">get_index(var, dim_name, val, ::MatchValue)</code></pre><p>Get the index that approximately match with <code>val</code> in the <code>dim_name</code> dimension.</p><p>If a <code>val</code> is not in the <code>dim_name</code> dimension, then an error is thrown.</p><p>This function assumes that <code>dim_name</code> exists in <code>var</code>, and the <code>dim_name</code> dimension is one-dimensional.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_selectors.jl#L259-L268">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.get_index-Tuple{Any, Any, Any, Index}"><a class="docstring-binding" href="#ClimaAnalysis.Var.get_index-Tuple{Any, Any, Any, Index}"><code>ClimaAnalysis.Var.get_index</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">get_index(var, dim_name, idx, ::Index)</code></pre><p>Get the index <code>idx</code>.</p><p>If <code>idx</code> is out of bounds, then an error is thrown.</p><p>This function assumes that <code>dim_name</code> exists in <code>var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/outvar_selectors.jl#L280-L288">source</a></section></details></article><h2 id="FlatVar"><a class="docs-heading-anchor" href="#FlatVar">FlatVar</a><a id="FlatVar-1"></a><a class="docs-heading-anchor-permalink" href="#FlatVar" title="Permalink"></a></h2><div class="admonition is-info" id="Accessor-functions-for-versions-of-ClimaAnalysis-after-v0.5.18-b3472d98709aabb4"><header class="admonition-header">Accessor functions for versions of ClimaAnalysis after v0.5.18<a class="admonition-anchor" href="#Accessor-functions-for-versions-of-ClimaAnalysis-after-v0.5.18-b3472d98709aabb4" title="Permalink"></a></header><div class="admonition-body"><p>For <code>Metadata</code> and <code>FlatVar</code>, you can use accessor functions (e.g. <code>has_time</code> and <code>times</code>) defined for <code>OutputVar</code>s on them.</p></div></div><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.Metadata"><a class="docstring-binding" href="#ClimaAnalysis.Var.Metadata"><code>ClimaAnalysis.Var.Metadata</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Representing the metadata of an `OutputVar` and contain all the necessary
information to reconstruct an `OutputVar`.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/flat.jl#L3-L6">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.FlatVar"><a class="docstring-binding" href="#ClimaAnalysis.Var.FlatVar"><code>ClimaAnalysis.Var.FlatVar</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Representing a flat output variable</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/flat.jl#L27-L29">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.flatten"><a class="docstring-binding" href="#ClimaAnalysis.Var.flatten"><code>ClimaAnalysis.Var.flatten</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">flatten(var::OutputVar;
        dims = (&quot;longitude&quot;, &quot;latitude&quot;, &quot;pressure_level&quot;, &quot;z&quot;, &quot;time&quot;),
        ignore_nan = true,
        mask = nothing)</code></pre><p>Flatten <code>var</code> into a <code>FlatVar</code> according to the ordering <code>dims</code>.</p><p>The default order of dimensions for flattening is <code>(&quot;longitude&quot;, &quot;latitude&quot;, &quot;pressure_level&quot;, &quot;z&quot;, &quot;time&quot;)</code>. Dimensions not present in <code>var</code> are excluded from this ordering.</p><p>If <code>ignore_nan = true</code>, then <code>NaNs</code> are excluded from the flattened data. Otherwise, <code>NaN</code>s are included.</p><p>If <code>mask</code> is <code>nothing</code>, then values are not removed by masking. If <code>mask</code> is a <code>ClimaAnalysis.LonLatMask</code>, then values are removed according to the mask. Any value of <code>var</code> whose coordinates correspond to zeros on the mask are excluded from the flattened data.</p><div class="admonition is-info" id="Mask-aware-flatten-93b79d5c12c79d23"><header class="admonition-header">Mask aware flatten<a class="admonition-anchor" href="#Mask-aware-flatten-93b79d5c12c79d23" title="Permalink"></a></header><div class="admonition-body"><p>The <code>mask</code> keyword argument is only available for versions of ClimaAnalysis after v0.5.19.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/flat.jl#L38-L61">source</a></section><section><div><pre><code class="language-julia hljs">flatten(var::OutputVar, flat_var::FlatVar)</code></pre><p>Flatten <code>var</code> into a <code>FlatVar</code> according to the <code>metadata</code> of <code>flat_var</code>.</p><div class="admonition is-info" id="Dropped-values-ddcc3545d0ae7b1f"><header class="admonition-header">Dropped values<a class="admonition-anchor" href="#Dropped-values-ddcc3545d0ae7b1f" title="Permalink"></a></header><div class="admonition-body"><p>This function flattens <code>var</code> such that the coordinates of the dropped values in <code>var</code> are the same as the coordinates of the dropped values in <code>metadata</code>.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/flat.jl#L115-L124">source</a></section><section><div><pre><code class="language-julia hljs">flatten(var::OutputVar, metadata::Metadata)</code></pre><p>Flatten <code>var</code> into a <code>FlatVar</code> according to <code>metadata</code>.</p><p>This function will not succeed if:</p><ul><li>the dimension names in the metadata and var are not the same,</li><li>the coordinate values of corresponding dimensions are not approximately equal,</li><li>the units of corresponding dimensions are not the same.</li></ul><p>Ordering of the dimensions does not matter.</p><div class="admonition is-info" id="Dropped-values-b78e58e702234f4a"><header class="admonition-header">Dropped values<a class="admonition-anchor" href="#Dropped-values-b78e58e702234f4a" title="Permalink"></a></header><div class="admonition-body"><p>This function flattens <code>var</code> such that the coordinates of the kept values in <code>var</code> are the same as the coordinates of the kept values in <code>metadata</code>.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/flat.jl#L129-L145">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.unflatten"><a class="docstring-binding" href="#ClimaAnalysis.Var.unflatten"><code>ClimaAnalysis.Var.unflatten</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">unflatten(var::FlatVar)</code></pre><p>Unflatten <code>var</code> and reconstruct the <code>OutputVar</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/flat.jl#L218-L222">source</a></section><section><div><pre><code class="language-julia hljs">unflatten(metadata::Metadata, data::AbstractVector)</code></pre><p>Unflatten <code>data</code> according to the <code>metadata</code> and reconstruct the <code>OutputVar</code>.</p><p>This function assumes that order of <code>data</code> before flattened is the same as <code>flatten_dim_order(metadata)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/flat.jl#L227-L234">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.flatten_dim_order"><a class="docstring-binding" href="#ClimaAnalysis.Var.flatten_dim_order"><code>ClimaAnalysis.Var.flatten_dim_order</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">flatten_dim_order(var::FlatVar)</code></pre><p>Return the order of the dimensions before flattening <code>data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/flat.jl#L274-L278">source</a></section><section><div><pre><code class="language-julia hljs">flatten_dim_order(metadata::Metadata)</code></pre><p>Return the order of the dimensions before flattening <code>data</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/flat.jl#L283-L287">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Var.flattened_length"><a class="docstring-binding" href="#ClimaAnalysis.Var.flattened_length"><code>ClimaAnalysis.Var.flattened_length</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">flattened_length(var::FlatVar; ignore_dropped = true)</code></pre><p>Get the length of the flattened <code>data</code> according to the <code>var</code>.</p><p>If <code>ignore_dropped = true</code>, then the length is computed excluding the dropped values. If <code>ignore_dropped = false</code>, then the length is computed including the dropped values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/flat.jl#L292-L299">source</a></section><section><div><pre><code class="language-julia hljs">flattened_length(metadata::Metadata; ignore_dropped = true)</code></pre><p>Get the length of the flattened <code>data</code> according to the <code>metadata</code>.</p><p>If <code>ignore_dropped = true</code>, then the length is computed excluding the dropped values. If <code>ignore_dropped = false</code>, then the length is computed including the dropped values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/flat.jl#L304-L311">source</a></section></details></article><h2 id="Leaderboard"><a class="docs-heading-anchor" href="#Leaderboard">Leaderboard</a><a id="Leaderboard-1"></a><a class="docs-heading-anchor-permalink" href="#Leaderboard" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.RMSEVariable"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.RMSEVariable"><code>ClimaAnalysis.Leaderboard.RMSEVariable</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Holding root mean squared errors over multiple categories and models for a single
variable.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L22-L25">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.RMSEVariable-Tuple{Any, Vector{String}}"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.RMSEVariable-Tuple{Any, Vector{String}}"><code>ClimaAnalysis.Leaderboard.RMSEVariable</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">RMSEVariable(short_name, model_names::Vector{String})</code></pre><p>Construct a RMSEVariable with the <code>short_name</code> of the variable and the names of the models in <code>model_names</code>.</p><p>The categories default to &quot;ANN&quot;, &quot;DJF&quot;, &quot;MAM&quot;, &quot;JJA&quot;, &quot;SON&quot;. The root mean square errors default to <code>NaN</code>. The unit for each model is missing which is denoted by an empty string.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L101-L109">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.RMSEVariable-Tuple{Any, Vector{String}, Dict}"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.RMSEVariable-Tuple{Any, Vector{String}, Dict}"><code>ClimaAnalysis.Leaderboard.RMSEVariable</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">RMSEVariable(short_name, model_names::Vector{String}, units::Dict)</code></pre><p>Construct a RMSEVariable with the <code>short_name</code> of the variable, the names of the models in <code>model_names</code>, and provided units in the dictionary <code>units</code> that map model name to unit.</p><p>The categories default to &quot;ANN&quot;, &quot;DJF&quot;, &quot;MAM&quot;, &quot;JJA&quot;, &quot;SON&quot;. The root mean square errors default to <code>NaN</code>. Any missing model in the dictionary <code>units</code> will has missing unit which is denoted by an empty string.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L119-L128">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.RMSEVariable-Tuple{Any, Vector{String}, Vector{String}, Dict}"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.RMSEVariable-Tuple{Any, Vector{String}, Vector{String}, Dict}"><code>ClimaAnalysis.Leaderboard.RMSEVariable</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">RMSEVariable(short_name,
             model_names::Vector{String},
             category_names::Vector{String},
             units::Dict)</code></pre><p>Construct a RMSEVariable with the <code>short_name</code> of the variable, the names of the models in <code>model_names</code>, the categories in <code>category_names</code>, and provided units in the dictionary <code>units</code> that map model name to unit.</p><p>The root mean square errors default to <code>NaN</code>. Any missing model in the dictionary <code>units</code> will has missing unit which is denoted by an empty string.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L135-L147">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.RMSEVariable-Tuple{String, Vector{String}, Vector{String}, Any, Dict}"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.RMSEVariable-Tuple{String, Vector{String}, Vector{String}, Any, Dict}"><code>ClimaAnalysis.Leaderboard.RMSEVariable</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">RMSEVariable(short_name::String,
             model_names::Vector{String},
             category_names::Vector{String},
             RMSEs,
             units::Dict)</code></pre><p>Construct a RMSEVariable with the <code>short_name</code> of the variable, the names of the models in <code>model_names</code>, the categories in <code>category_names</code>, the root mean squared errors in <code>RMSEs</code>, and <code>units</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L47-L57">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.RMSEVariable-Tuple{Any, Vector{String}, String}"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.RMSEVariable-Tuple{Any, Vector{String}, String}"><code>ClimaAnalysis.Leaderboard.RMSEVariable</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">RMSEVariable(short_name, model_names::Vector{String}, units::String)</code></pre><p>Construct a RMSEVariable with the <code>short_name</code> of the variable, the names of the models in <code>model_names</code>, and units which map each model name to <code>units</code>.</p><p>The categories default to &quot;ANN&quot;, &quot;DJF&quot;, &quot;MAM&quot;, &quot;JJA&quot;, &quot;SON&quot;. The root mean square errors default to <code>NaN</code>.</p><p>This is useful if all the models share the same unit.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L188-L198">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.RMSEVariable-Tuple{Any, Vector{String}, Vector{String}, String}"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.RMSEVariable-Tuple{Any, Vector{String}, Vector{String}, String}"><code>ClimaAnalysis.Leaderboard.RMSEVariable</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">RMSEVariable(short_name,
             model_names::Vector{String},
             category_names::Vector{String},
             units::String)</code></pre><p>Construct a RMSEVariable with the <code>short_name</code> of the variable, the names of the models in <code>model_names</code>, the categories in <code>category_names</code>, and units which map each model name to <code>units</code>.</p><p>The root mean square errors default to <code>NaN</code>.</p><p>This is useful if all the models share the same unit.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L204-L217">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.RMSEVariable-Tuple{String, Vector{String}, Vector{String}, Any, String}"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.RMSEVariable-Tuple{String, Vector{String}, Vector{String}, Any, String}"><code>ClimaAnalysis.Leaderboard.RMSEVariable</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">RMSEVariable(short_name::String,
             model_names::Vector{String},
             category_names::Vector{String},
             RMSEs,
             units::String)</code></pre><p>Construct a RMSEVariable with the <code>short_name</code> of the variable, the names of the models in <code>model_names</code>, the categories in <code>category_names</code>, the root mean squared errors in <code>RMSEs</code>, and units which map each model name to <code>units</code>.</p><p>This is useful if all the models share the same unit.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L158-L170">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.model_names"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.model_names"><code>ClimaAnalysis.Leaderboard.model_names</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">model_names(rmse_var::RMSEVariable)</code></pre><p>Return all the model names in <code>rmse_var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L228-L232">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.category_names"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.category_names"><code>ClimaAnalysis.Leaderboard.category_names</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">category_names(rmse_var::RMSEVariable)</code></pre><p>Return all the category names in <code>rmse_var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L235-L239">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.rmse_units"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.rmse_units"><code>ClimaAnalysis.Leaderboard.rmse_units</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">rmse_units(rmse_var::RMSEVariable)</code></pre><p>Return all the unit of the models in <code>rmse_var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L243-L247">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.read_rmses"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.read_rmses"><code>ClimaAnalysis.Leaderboard.read_rmses</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">read_rmses(csv_file::String, short_name::String; units = nothing)</code></pre><p>Read a CSV file and create a RMSEVariable with the <code>short_name</code> of the variable.</p><p>The format of the CSV file should have a header consisting of the entry &quot;model_name&quot; (or any other text as it is ignored by the function) and rest of the entries should be the category names. Each row after the header should start with the model name and the root mean squared errors for each category for that model. The entries of the CSV file should be separated by commas.</p><p>The parameter <code>units</code> can be a dictionary mapping model name to unit or a string. If <code>units</code> is a string, then units will be the same across all models. If units is <code>nothing</code>, then the unit is missing for each model which is denoted by an empty string.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L250-L264">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.getindex-Tuple{RMSEVariable, Any, Any}"><a class="docstring-binding" href="#Base.getindex-Tuple{RMSEVariable, Any, Any}"><code>Base.getindex</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">Base.getindex(rmse_var::RMSEVariable, model_name, category)</code></pre><p>Return a subset of the array holding the root mean square errors as specified by <code>model_name</code> and <code>category</code>. Support indexing by <code>String</code> and <code>Int</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L388-L393">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.getindex-Tuple{RMSEVariable, String}"><a class="docstring-binding" href="#Base.getindex-Tuple{RMSEVariable, String}"><code>Base.getindex</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">Base.getindex(rmse_var::RMSEVariable, model_name::String)</code></pre><p>Return a subset of the array holding the root mean square errors as specified by <code>model_name</code>. Support indexing by <code>String</code>. Do not support linear indexing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L400-L405">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.setindex!-Tuple{RMSEVariable, Any, Any, Any}"><a class="docstring-binding" href="#Base.setindex!-Tuple{RMSEVariable, Any, Any, Any}"><code>Base.setindex!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">Base.setindex!(rmse_var::RMSEVariable, rmse, model_name, category)</code></pre><p>Store a value or values from an array in the array of root mean squared errors in <code>rmse_var</code>. Support indexing by <code>String</code> and <code>Int</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L410-L415">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.setindex!-Tuple{RMSEVariable, Any, String}"><a class="docstring-binding" href="#Base.setindex!-Tuple{RMSEVariable, Any, String}"><code>Base.setindex!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">Base.setindex!(rmse_var::RMSEVariable, rmse, model_name::String)</code></pre><p>Store a value or values from an array into the array of root mean squared errors in <code>rmse_var</code>. Support indexing by <code>String</code>. Do not support linear indexing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L422-L427">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.add_category"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.add_category"><code>ClimaAnalysis.Leaderboard.add_category</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">add_category(rmse_var::RMSEVariable, categories::String...)</code></pre><p>Add one or more categories named <code>categories</code> to <code>rmse_var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L433-L437">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.add_model"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.add_model"><code>ClimaAnalysis.Leaderboard.add_model</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">add_model(rmse_var::RMSEVariable, models::String...)</code></pre><p>Add one or more models named <code>models</code> to <code>rmse_var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L510-L514">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.add_unit!"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.add_unit!"><code>ClimaAnalysis.Leaderboard.add_unit!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">add_unit!(rmse_var::RMSEVariable, model_name, unit)</code></pre><p>Add a unit named <code>unit</code> to a model named <code>model_name</code> in <code>rmse_var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L585-L589">source</a></section><section><div><pre><code class="language-julia hljs">add_unit!(rmse_var::RMSEVariable, model_name2unit::Dict)</code></pre><p>Add all model name and unit pairs in the dictionary <code>model_name2unit</code> to <code>rmse_var</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L596-L600">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.find_best_single_model"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.find_best_single_model"><code>ClimaAnalysis.Leaderboard.find_best_single_model</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">find_best_single_model(rmse_var::RMSEVariable; category_name = &quot;ANN&quot;)</code></pre><p>Return a tuple of the best single model and the name of the model. Find the best single model using the root mean squared errors of the category <code>category_name</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L623-L628">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.find_worst_single_model"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.find_worst_single_model"><code>ClimaAnalysis.Leaderboard.find_worst_single_model</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">find_worst_single_model(rmse_var::RMSEVariable; category_name = &quot;ANN&quot;)</code></pre><p>Return a tuple of the worst single model and the name of the model. Find the worst single model using the root mean squared errors of the category <code>category_name</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L645-L650">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.median"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.median"><code>ClimaAnalysis.Leaderboard.median</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">median(rmse_var::RMSEVariable)</code></pre><p>Find the median using the root mean squared errors across all categories.</p><p>Any <code>NaN</code> is ignored in computing the median.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L666-L672">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.reorder_categories"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.reorder_categories"><code>ClimaAnalysis.Leaderboard.reorder_categories</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">reorder_categories(rmse_var::RMSEVariable, categories::Vector{String})</code></pre><p>Reorder the categories in <code>rmse_var</code> to match <code>categories</code>.</p><p>If a category in <code>categories</code> is not present in as a category in <code>rmse_var</code>, then an error is thrown. This function is helpful when changing the order of the categories in the plot produced by <code>ClimaAnalysis.Visualize.plot_boxplot!</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L457-L465">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Leaderboard.match_category_order"><a class="docstring-binding" href="#ClimaAnalysis.Leaderboard.match_category_order"><code>ClimaAnalysis.Leaderboard.match_category_order</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">match_category_order(rmse_var1::RMSEVariable, rmse_var2::RMSEVariable)</code></pre><p>Make the order of categories of <code>rmse_var_src</code> matches the order of the categories of <code>rmse_var_dest</code>.</p><p>This function is helpful when changing the order of the categories in the plot produced by <code>ClimaAnalysis.Visualize.plot_boxplot!</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Leaderboard.jl#L485-L493">source</a></section></details></article><h2 id="Utilities"><a class="docs-heading-anchor" href="#Utilities">Utilities</a><a id="Utilities-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities" title="Permalink"></a></h2><p>For development and not</p><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Utils.match_nc_filename"><a class="docstring-binding" href="#ClimaAnalysis.Utils.match_nc_filename"><code>ClimaAnalysis.Utils.match_nc_filename</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">match_nc_filename(filename::String)</code></pre><p>Return <code>short_name</code>, <code>period</code>, <code>reduction</code>, <code>coord_type</code> extracted from the filename, if matching the expected convention.</p><p>The convention is: <code>shortname_(period)_reduction_(coord_type).nc</code>, with <code>period</code> and <code>coord_type</code> being optional.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; match_nc_filename(&quot;bob&quot;)</code></pre><pre><code class="language-julia-repl hljs">julia&gt; match_nc_filename(&quot;ta_1d_average.nc&quot;)
(&quot;ta&quot;, &quot;1d&quot;, &quot;average&quot;, nothing)</code></pre><pre><code class="language-julia-repl hljs">julia&gt; match_nc_filename(&quot;ta_1d_average_pressure.nc&quot;)
(&quot;ta&quot;, &quot;1d&quot;, &quot;average&quot;, &quot;pressure&quot;)</code></pre><pre><code class="language-julia-repl hljs">julia&gt; match_nc_filename(&quot;pfull_6.0m_max.nc&quot;)
(&quot;pfull&quot;, &quot;6.0m&quot;, &quot;max&quot;, nothing)</code></pre><pre><code class="language-julia-repl hljs">julia&gt; match_nc_filename(&quot;hu_inst.nc&quot;)
(&quot;hu&quot;, nothing, &quot;inst&quot;, nothing)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Utils.jl#L9-L44">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Utils.squeeze"><a class="docstring-binding" href="#ClimaAnalysis.Utils.squeeze"><code>ClimaAnalysis.Utils.squeeze</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">squeeze(A :: AbstractArray; dims)</code></pre><p>Return an array that has no dimensions with size 1.</p><p>When an iterable <code>dims</code> is passed, only try to squeeze the given <code>dim</code>ensions.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; A = [[1 2] [3 4]];

julia&gt; size(A)
(1, 4)

julia&gt; A_squeezed = squeeze(A);

julia&gt; size(A_squeezed)
(4,)

julia&gt; A_not_squeezed = squeeze(A; dims = (2, ));

julia&gt; size(A_not_squeezed)
(1, 4)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Utils.jl#L87-L113">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Utils.nearest_index"><a class="docstring-binding" href="#ClimaAnalysis.Utils.nearest_index"><code>ClimaAnalysis.Utils.nearest_index</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">nearest_index(A::AbstractArray, val)</code></pre><p>Return the index in <code>A</code> closest to the given <code>val</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; A = [-1, 0, 1, 2, 3, 4, 5];

julia&gt; nearest_index(A, 3)
5

julia&gt; nearest_index(A, 0.1)
2</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Utils.jl#L132-L149">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Utils.kwargs"><a class="docstring-binding" href="#ClimaAnalysis.Utils.kwargs"><code>ClimaAnalysis.Utils.kwargs</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">kwargs(; kwargs...)</code></pre><p>Convert keyword arguments in a dictionary that maps <code>Symbol</code>s to values.</p><p>Useful to pass keyword arguments to different constructors in a function.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; kwargs(a = 1)
pairs(::NamedTuple) with 1 entry:
  :a =&gt; 1</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Utils.jl#L156-L171">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Utils.seconds_to_prettystr"><a class="docstring-binding" href="#ClimaAnalysis.Utils.seconds_to_prettystr"><code>ClimaAnalysis.Utils.seconds_to_prettystr</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">seconds_to_prettystr(seconds::Real)</code></pre><p>Convert the given <code>seconds</code> into a string with rich time information.</p><p>One year is defined as having 365 days.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; seconds_to_prettystr(10)
&quot;10s&quot;

julia&gt; seconds_to_prettystr(600)
&quot;10m&quot;

julia&gt; seconds_to_prettystr(86400)
&quot;1d&quot;

julia&gt; seconds_to_prettystr(864000)
&quot;10d&quot;

julia&gt; seconds_to_prettystr(864010)
&quot;10d 10s&quot;

julia&gt; seconds_to_prettystr(24 * 60 * 60 * 365 + 1)
&quot;1y 1s&quot;

julia&gt; seconds_to_prettystr(0)
&quot;0.0s&quot;

julia&gt; seconds_to_prettystr(-864010)
&quot;-10d 10s&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Utils.jl#L174-L209">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Utils.warp_string"><a class="docstring-binding" href="#ClimaAnalysis.Utils.warp_string"><code>ClimaAnalysis.Utils.warp_string</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">warp_string(str::AbstractString; max_width = 70)</code></pre><p>Return a string where each line is at most <code>max_width</code> characters or less or at most one word.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; warp_string(&quot;space&quot;, max_width = 5)
&quot;space&quot;

julia&gt; warp_string(&quot;space&quot;, max_width = 4)
&quot;space&quot;

julia&gt; warp_string(&quot;\tspace    &quot;, max_width = 4)
&quot;space&quot;

julia&gt; warp_string(&quot;space space&quot;, max_width = 5)
&quot;space\nspace&quot;

julia&gt; warp_string(&quot;space space&quot;, max_width = 4)
&quot;space\nspace&quot;

julia&gt; warp_string(&quot;\n   space  \n  space&quot;, max_width = 4)
&quot;space\nspace&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Utils.jl#L236-L264">source</a></section></details></article><h2 id="Atmos"><a class="docs-heading-anchor" href="#Atmos">Atmos</a><a id="Atmos-1"></a><a class="docs-heading-anchor-permalink" href="#Atmos" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Atmos"><a class="docstring-binding" href="#ClimaAnalysis.Atmos"><code>ClimaAnalysis.Atmos</code></a> — <span class="docstring-category">Module</span></summary><section><div><p>The <code>Atmos</code> module contains functions that are primarily useful when working with atmospheric simulations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Atmos.jl#L1-L4">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Atmos.to_pressure_coordinates"><a class="docstring-binding" href="#ClimaAnalysis.Atmos.to_pressure_coordinates"><code>ClimaAnalysis.Atmos.to_pressure_coordinates</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">to_pressure_coordinates(var::OutputVar, pressure::OutputVar; target_pressure = nothing)</code></pre><p>Change the vertical dimension of <code>var</code> to be in pressure coordinates.</p><p>If <code>target_pressure</code> is nothing, the target pressure levels are computed by Plvl(z) = P0 * exp(-z / H<em>EARTH), where H</em>EARTH = 7000.0 and P0 = 1e5, following a simple hydrostatic model for the atmosphere.</p><p><code>target_pressure</code> can be set to a <code>Vector</code> to specify custom pressure levels.</p><p>The return value is a new <code>OutputVar</code> where the vertical dimension is pressure.</p><blockquote><p>:important: Values outside of the range are linearly extrapolated, so do not</p></blockquote><p>trust them too much!</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Atmos.jl#L46-L62">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Atmos.global_rmse_pfull"><a class="docstring-binding" href="#ClimaAnalysis.Atmos.global_rmse_pfull"><code>ClimaAnalysis.Atmos.global_rmse_pfull</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">global_rmse_pfull(sim::OutputVar,
                  obs::OutputVar;
                  sim_pressure = nothing,
                  obs_pressure = nothing,
                  target_pressure = nothing)</code></pre><p>Return the global RMSE in pressure space as a number.</p><p>The arguments <code>sim</code> and <code>obs</code> are defined as 3-dimensional <code>OutputVar</code>s with the dimensions longitude, latitude, and altitude or pressure. If altitude is a dimension, then <code>sim</code> and <code>obs</code> are converted to pressure coordinates using <a href="#ClimaAnalysis.Atmos.to_pressure_coordinates"><code>to_pressure_coordinates</code></a> through the keywords <code>sim_pressure</code> and <code>obs_pressure</code>. Specific pressure levels can chosen by supplying a vector of pressure levels for the keyword <code>target_pressure</code>.</p><p>Resampling is done automatically by resampling <code>obs</code> on <code>sim</code>.</p><p>The global RMSE is calculated by computing the mean squared error over longitude and latitude, integrating and normalizing over pressure, and taking the square root of the resulting number.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/src/Atmos.jl#L131-L152">source</a></section></details></article><h2 id="Makie"><a class="docs-heading-anchor" href="#Makie">Makie</a><a id="Makie-1"></a><a class="docs-heading-anchor-permalink" href="#Makie" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Visualize.heatmap2D!"><a class="docstring-binding" href="#ClimaAnalysis.Visualize.heatmap2D!"><code>ClimaAnalysis.Visualize.heatmap2D!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">heatmap2D!(fig::Makie.Figure,
           var::ClimaAnalysis.OutputVar;
           p_loc = (1,1),
           more_kwargs)
heatmap2D!(grid_layout::Makie.GridLayout,
           var::ClimaAnalysis.OutputVar;
           p_loc = (1,1),
           more_kwargs)</code></pre><p>Plot a heatmap of the given 2D <code>var</code>iable in the given place and location. The place can be a <code>Figure</code> or a <code>GridLayout</code>.</p><p>The plot comes with labels, units, and a colorbar.</p><p>This function assumes that the following attributes are available:</p><ul><li>long_name</li><li>short_name</li><li>units (also for the dimensions)</li></ul><p><strong>Additional arguments to the plotting and axis functions</strong></p><p><code>more_kwargs</code> can be a dictionary that maps symbols to additional options for:</p><ul><li>the axis (<code>:axis</code>)</li><li>the plotting function (<code>:plot</code>)</li><li>the colorbar (<code>:cb</code>)</li></ul><p>The values are splatted in the relevant functions. Populate them with a Dictionary of <code>Symbol</code>s =&gt; values to pass additional options.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/ext/ClimaAnalysisMakieExt.jl#L14-L46">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Visualize.sliced_heatmap!"><a class="docstring-binding" href="#ClimaAnalysis.Visualize.sliced_heatmap!"><code>ClimaAnalysis.Visualize.sliced_heatmap!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">sliced_heatmap!(fig::Makie.Figure,
                var::ClimaAnalysis.OutputVar,
                cut::Union{Nothing, AbstractDict{String, &lt;: Real}};
                p_loc = (1,1),
                more_kwargs,
                )
sliced_heatmap!(grid_layout::Makie.GridLayout,
                var::ClimaAnalysis.OutputVar,
                cut::Union{Nothing, AbstractDict{String, &lt;: Real}};
                p_loc = (1,1),
                more_kwargs,
                )</code></pre><p>Take a <code>var</code>iable, slice as directed, and plot a 2D heatmap in the given place and location.</p><p>The place can be a <code>Figure</code> or a <code>GridLayout</code>.</p><p>The plot comes with labels, units, and a colorbar.</p><p><strong>Arguments</strong></p><p>If the variable is not 2D, <code>cut</code> has to be a dictionary that maps the dimension that has to be sliced and the value where to cut.</p><p>For example, if <code>var</code> has four dimensions: <code>time</code>, <code>long</code>, <code>lat</code>, <code>z</code>, this function can be used to plot a <code>lat-long</code> heatmap at fixed <code>time</code> and <code>z</code>. Assuming we want to plot time <code>100.</code> and altitude <code>50.</code>, <code>cut</code> should be <code>Dict(&quot;time&quot; =&gt; 100., &quot;z&quot; =&gt; 50.)</code>.</p><p>This function assumes that the following attributes are available:</p><ul><li>long_name</li><li>short_name</li><li>units (also for the dimensions)</li></ul><p><strong>Additional arguments to the plotting and axis functions</strong></p><p><code>more_kwargs</code> can be a dictionary that maps symbols to additional options for:</p><ul><li>the axis (<code>:axis</code>)</li><li>the plotting function (<code>:plot</code>)</li><li>the colorbar (<code>:cb</code>)</li></ul><p>The values are splatted in the relevant functions. Populate them with a Dictionary of <code>Symbol</code>s =&gt; values to pass additional options.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/ext/ClimaAnalysisMakieExt.jl#L147-L193">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Visualize.heatmap!"><a class="docstring-binding" href="#ClimaAnalysis.Visualize.heatmap!"><code>ClimaAnalysis.Visualize.heatmap!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">heatmap!(place::MakiePlace,
         var::ClimaAnalysis.OutputVar;
         p_loc = (1,1),
         more_kwargs,
         kwargs...
        )</code></pre><p>Syntactic sugar for <code>sliced_heatmap</code> with <code>kwargs</code> instead of <code>cut</code>.</p><p><strong>Example</strong></p><p><code>heatmap!(fig, var, time = 100, lat = 70)</code> plots a heatmap by slicing <code>var</code> along the time nearest to 100 and latitude nearest 70.</p><p><strong>Additional arguments to the plotting and axis functions</strong></p><p><code>more_kwargs</code> can be a dictionary that maps symbols to additional options for:</p><ul><li>the axis (<code>:axis</code>)</li><li>the plotting function (<code>:plot</code>)</li><li>the colorbar (<code>:cb</code>)</li></ul><p>The values are splatted in the relevant functions. Populate them with a Dictionary of <code>Symbol</code>s =&gt; values to pass additional options.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/ext/ClimaAnalysisMakieExt.jl#L211-L237">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Visualize.line_plot1D!"><a class="docstring-binding" href="#ClimaAnalysis.Visualize.line_plot1D!"><code>ClimaAnalysis.Visualize.line_plot1D!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">line_plot1D!(place::Makie.Figure,
             var::ClimaAnalysis.OutputVar;
             p_loc = (1,1),
             more_kwargs
             )
line_plot1D!(place::Makie.GridLayout,
             var::ClimaAnalysis.OutputVar;
             p_loc = (1,1),
             more_kwargs
             )</code></pre><p>Plot a line plot of the given 1D <code>var</code>iable in the given place and location. The place can be a <code>Figure</code> or a <code>GridLayout</code>.</p><p>The plot comes with labels, units.</p><p>This function assumes that the following attributes are available:</p><ul><li>long_name</li><li>short_name</li><li>units (also for the dimensions)</li></ul><p><strong>Additional arguments to the plotting and axis functions</strong></p><p><code>more_kwargs</code> can be a dictionary that maps symbols to additional options for:</p><ul><li>the axis (<code>:axis</code>)</li><li>the plotting function (<code>:plot</code>)</li></ul><p>The values are splatted in the relevant functions. Populate them with a Dictionary of <code>Symbol</code>s =&gt; values to pass additional options.</p><p>A special argument that can be passed to <code>:axis</code> is <code>:dim_on_y</code>, which puts the dimension on the y axis instead of the variable. This is useful to plot columns with <code>z</code> on the vertical axis instead of the horizontal one.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/ext/ClimaAnalysisMakieExt.jl#L255-L291">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Visualize.sliced_line_plot!"><a class="docstring-binding" href="#ClimaAnalysis.Visualize.sliced_line_plot!"><code>ClimaAnalysis.Visualize.sliced_line_plot!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">sliced_line_plot!(place::Makie.Figure,
                  var::ClimaAnalysis.OutputVar,
                  cut::Union{Nothing, AbstractDict{String, &lt;: Real}};
                  p_loc = (1,1),
                  more_kwargs
                  )
sliced_line_plot!(place::Makie.GridLayout,
                  var::ClimaAnalysis.OutputVar,
                  cut::Union{Nothing, AbstractDict{String, &lt;: Real}};
                  p_loc = (1,1),
                  more_kwargs
                  )</code></pre><p>Take a <code>var</code>iable, slice as directed, and plot a 1D line plot in the given place and location. The place can be a <code>Figure</code> or a <code>GridLayout</code>.</p><p>The plot comes with labels, and units.</p><p><strong>Arguments</strong></p><p>If the variable is not 1D, <code>cut</code> has to be a dictionary that maps the dimension that has to be sliced and the value where to cut.</p><p>For example, if <code>var</code> has four dimensions: <code>time</code>, <code>long</code>, <code>lat</code>, <code>z</code>, this function can be used to plot a <code>lat-long</code> heatmap at fixed <code>time</code> and <code>z</code>. Assuming we want to plot time <code>100.</code> and altitude <code>50.</code>, <code>cut</code> should be <code>Dict(&quot;time&quot; =&gt; 100., &quot;z&quot; =&gt; 50.)</code>.</p><p>This function assumes that the following attributes are available:</p><ul><li>long_name</li><li>short_name</li><li>units (also for the dimensions)</li></ul><p><strong>Additional arguments to the plotting and axis functions</strong></p><p><code>more_kwargs</code> can be a dictionary that maps symbols to additional options for:</p><ul><li>the axis (<code>:axis</code>)</li><li>the plotting function (<code>:plot</code>)</li></ul><p>The values are splatted in the relevant functions. Populate them with a Dictionary of <code>Symbol</code>s =&gt; values to pass additional options.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/ext/ClimaAnalysisMakieExt.jl#L335-L379">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Visualize.sliced_plot!"><a class="docstring-binding" href="#ClimaAnalysis.Visualize.sliced_plot!"><code>ClimaAnalysis.Visualize.sliced_plot!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">sliced_plot!(place::Makie.Figure,
             var::ClimaAnalysis.OutputVar,
             cut::Union{Nothing, AbstractDict{String, &lt;: Real}};
             p_loc = (1,1),
             more_kwargs
             )
sliced_plot!(place::Makie.GridLayout,
             var::ClimaAnalysis.OutputVar,
             cut::Union{Nothing, AbstractDict{String, &lt;: Real}};
             p_loc = (1,1),
             more_kwargs
             )</code></pre><p>Take a <code>var</code>iable, slice as directed, and plot a 1D line plot or 2D heatmap in the given place and location. The place can be a <code>Figure</code> or a <code>GridLayout</code>.</p><p>The plot comes with labels, and units (and possibly a colorbar).</p><p><strong>Arguments</strong></p><p>If the variable is not 1D/2D, <code>cut</code> has to be a dictionary that maps the dimension that has to be sliced and the value where to cut.</p><p>For example, if <code>var</code> has four dimensions: <code>time</code>, <code>long</code>, <code>lat</code>, <code>z</code>, this function can be used to plot a <code>lat-long</code> heatmap at fixed <code>time</code> and <code>z</code>. Assuming we want to plot time <code>100.</code> and altitude <code>50.</code>, <code>cut</code> should be <code>Dict(&quot;time&quot; =&gt; 100., &quot;z&quot; =&gt; 50.)</code>.</p><p>This function assumes that the following attributes are available:</p><ul><li>long_name</li><li>short_name</li><li>units (also for the dimensions)</li></ul><p><strong>Additional arguments to the plotting and axis functions</strong></p><p><code>more_kwargs</code> can be a dictionary that maps symbols to additional options for:</p><ul><li>the axis (<code>:axis</code>)</li><li>the plotting function (<code>:plot</code>)</li><li>the colorbar (<code>:cb</code>)</li></ul><p>The values are splatted in the relevant functions. Populate them with a Dictionary of <code>Symbol</code>s =&gt; values to pass additional options.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/ext/ClimaAnalysisMakieExt.jl#L446-L490">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Visualize.plot!"><a class="docstring-binding" href="#ClimaAnalysis.Visualize.plot!"><code>ClimaAnalysis.Visualize.plot!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">plot!(place::Makie.Figure,
      var::ClimaAnalysis.OutputVar;
      p_loc = (1,1),
      more_kwargs,
      kwargs...
      )
plot!(place::Makie.GridLayout,
      var::ClimaAnalysis.OutputVar;
      p_loc = (1,1),
      more_kwargs,
      kwargs...
      )</code></pre><p>Syntactic sugar for <code>sliced_plot</code> with <code>kwargs</code> instead of <code>cut</code>.</p><p><strong>Example</strong></p><p><code>line_plot!(fig, var, time = 100, lat = 70)</code> plots a line plot or a heatmap by slicing <code>var</code> along the time nearest to 100 and latitude nearest 70.</p><p><strong>Additional arguments to the plotting and axis functions</strong></p><p><code>more_kwargs</code> can be a dictionary that maps symbols to additional options for:</p><ul><li>the axis (<code>:axis</code>)</li><li>the plotting function (<code>:plot</code>)</li><li>the colorbar (<code>:cb</code>)</li></ul><p>The values are splatted in the relevant functions. Populate them with a Dictionary of <code>Symbol</code>s =&gt; values to pass additional options.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/ext/ClimaAnalysisMakieExt.jl#L514-L546">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Visualize.plot_boxplot!"><a class="docstring-binding" href="#ClimaAnalysis.Visualize.plot_boxplot!"><code>ClimaAnalysis.Visualize.plot_boxplot!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Visualize.plot_boxplot!(fig,
                        rmse_var::ClimaAnalysis.RMSEVariable;
                        model_names = [&quot;CliMA&quot;],
                        ploc = (1, 1),
                        best_and_worst_category_name = &quot;ANN&quot;,
                        legend_text_width = 10)</code></pre><p>Plot a Tukey style boxplot for each category in <code>rmse_var</code>.</p><p>The best and worst single models are found for the category <code>best_and_worst_category_name</code> and are plotted on the boxplot. When finding the best and worst single models, any models in <code>model_names</code> will be excluded. Additionally, any model in <code>model_names</code> will also be plotted on the boxplot.</p><p>The parameter <code>ploc</code> determines where to place the plot on the figure. The parameter <code>legend_text_width</code> determines the number of characters on each line in the legend.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/ext/ClimaAnalysisMakieExt.jl#L643-L660">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Visualize.plot_leaderboard!"><a class="docstring-binding" href="#ClimaAnalysis.Visualize.plot_leaderboard!"><code>ClimaAnalysis.Visualize.plot_leaderboard!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Visualize.plot_leaderboard!(fig,
                            rmse_vars::ClimaAnalysis.RMSEVariable...;
                            ploc = (1, 1),
                            model_names = [&quot;CliMA&quot;],
                            best_category_name = &quot;ANN&quot;)</code></pre><p>Plot a heatmap over the categories and models. The models that appear is the best model as found for the category <code>best_category_name</code> and any other models in <code>model_names</code>. The root mean squared errors for each variable of interest is normalized by dividing over the median root mean squared error of each variable.</p><p>The parameter <code>ploc</code> determines where to place the plot on the figure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/ext/ClimaAnalysisMakieExt.jl#L796-L809">source</a></section></details></article><h2 id="GeoMakie"><a class="docs-heading-anchor" href="#GeoMakie">GeoMakie</a><a id="GeoMakie-1"></a><a class="docs-heading-anchor-permalink" href="#GeoMakie" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Visualize.oceanmask"><a class="docstring-binding" href="#ClimaAnalysis.Visualize.oceanmask"><code>ClimaAnalysis.Visualize.oceanmask</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">oceanmask()</code></pre><p>Return a collection of polygons to mask out the ocean.</p><p>Plot with <code>Makie.poly</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/ext/ClimaAnalysisGeoMakieExt.jl#L17-L23">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Visualize.landmask"><a class="docstring-binding" href="#ClimaAnalysis.Visualize.landmask"><code>ClimaAnalysis.Visualize.landmask</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">landmask()</code></pre><p>Return a collection of polygons to mask out the continents.</p><p>Plot with <code>Makie.poly</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/ext/ClimaAnalysisGeoMakieExt.jl#L29-L35">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Visualize.contour2D_on_globe!"><a class="docstring-binding" href="#ClimaAnalysis.Visualize.contour2D_on_globe!"><code>ClimaAnalysis.Visualize.contour2D_on_globe!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">contour2D_on_globe!(fig::Makie.Figure,
                    var::ClimaAnalysis.OutputVar;
                    p_loc = (1,1),
                    plot_coastline = true,
                    plot_colorbar = true,
                    plot_contours = true,
                    mask = nothing,
                    more_kwargs)
contour2D_on_globe!(grid_layout::Makie.GridLayout,
                    var::ClimaAnalysis.OutputVar;
                    p_loc = (1,1),
                    plot_coastline = true,
                    plot_colorbar = true,
                    plot_contours = true,
                    mask = nothing,
                    more_kwargs)</code></pre><p>Plot discrete contours of the given 2D <code>var</code>iable on a projected geoid.</p><p>The plot comes with labels, units, and a colorbar.</p><p>This function assumes that the following attributes are available:</p><ul><li>long_name</li><li>short_name</li><li>units</li></ul><p>The dimensions have to be longitude and latitude.</p><p><code>mask</code> has to be an object that can be plotted by <code>Makie.poly</code> or a masking function. <code>ClimaAnalysis</code> comes with predefined masks, check out <a href="#ClimaAnalysis.Visualize.oceanmask"><code>Visualize.oceanmask</code></a> and <a href="#ClimaAnalysis.Visualize.landmask"><code>Visualize.landmask</code></a>. Also, the corresponding mask is applied to the <code>OutputVar</code>s. For instance, using <code>Visualize.landmask</code> means <code>ClimaAnalysis.apply_landmask</code> is applied to the <code>OutputVar</code>s when computing the bias. One can also pass in <code>ClimaAnalysis.apply_landmask</code>, <code>ClimaAnalysis.apply_oceanmask</code>, or a custom masking function (<a href="#ClimaAnalysis.Var.make_lonlat_mask"><code>ClimaAnalysis.Var.make_lonlat_mask</code></a>).</p><div class="admonition is-info" id="Passing-a-masking-function-for-mask-2e37178cea14b035"><header class="admonition-header">Passing a masking function for `mask`<a class="admonition-anchor" href="#Passing-a-masking-function-for-mask-2e37178cea14b035" title="Permalink"></a></header><div class="admonition-body"><p>ClimaAnalysis do not support mask keyword arguments for masking functions. If you want the values of the mask to not show, then pass <code>true_val = NaN</code> as a keyword argument to <code>make_lonlat_mask</code>. The color of <code>NaN</code> is controlled by the keyword <code>nan_color</code> which can be passed for the plotting function (<code>:plot</code>).</p></div></div><p><strong>Additional arguments to the plotting and axis functions</strong></p><p><code>more_kwargs</code> can be a dictionary that maps symbols to additional options for:</p><ul><li>the axis (<code>:axis</code>)</li><li>the plotting function (<code>:plot</code>)</li><li>the colorbar (<code>:cb</code>)</li><li>the coastline (<code>:coast</code>)</li><li>the mask (<code>:mask</code>)</li></ul><p>The coastline is plotted from <code>GeoMakie.coastline</code> using the <code>lines!</code> plotting function.</p><p>The values are splatted in the relevant functions. Populate them with a Dictionary of <code>Symbol</code>s =&gt; values to pass additional options.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/ext/ClimaAnalysisGeoMakieExt.jl#L198-L256">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Visualize.heatmap2D_on_globe!"><a class="docstring-binding" href="#ClimaAnalysis.Visualize.heatmap2D_on_globe!"><code>ClimaAnalysis.Visualize.heatmap2D_on_globe!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">heatmap2D_on_globe!(fig::Makie.Figure,
                    var::ClimaAnalysis.OutputVar;
                    p_loc = (1,1),
                    plot_coastline = true,
                    plot_colorbar = true,
                    mask = nothing,
                    more_kwargs)
heatmap2D_on_globe!(grid_layout::Makie.GridLayout,
                    var::ClimaAnalysis.OutputVar;
                    p_loc = (1,1),
                    plot_coastline = true,
                    plot_colorbar = true,
                    mask = nothing,
                    more_kwargs)</code></pre><p>Plot a heatmap of the given 2D <code>var</code>iable on a projected geoid.</p><p>The plot comes with labels, units, and a colorbar.</p><p>This function assumes that the following attributes are available:</p><ul><li>long_name</li><li>short_name</li><li>units</li></ul><p>The dimensions have to be longitude and latitude.</p><p><code>mask</code> has to be an object that can be plotted by <code>Makie.poly</code> or a masking function. <code>ClimaAnalysis</code> comes with predefined masks, check out <a href="#ClimaAnalysis.Visualize.oceanmask"><code>Visualize.oceanmask</code></a> and <a href="#ClimaAnalysis.Visualize.landmask"><code>Visualize.landmask</code></a>. Also, the corresponding mask is applied to the <code>OutputVar</code>s. For instance, using <code>Visualize.landmask</code> means <code>ClimaAnalysis.apply_landmask</code> is applied to the <code>OutputVar</code>s when computing the bias. One can also pass in <code>ClimaAnalysis.apply_landmask</code>, <code>ClimaAnalysis.apply_oceanmask</code>, or a custom masking function (<a href="#ClimaAnalysis.Var.make_lonlat_mask"><code>ClimaAnalysis.Var.make_lonlat_mask</code></a>).</p><div class="admonition is-info" id="Passing-a-masking-function-for-mask-2e37178cea14b035"><header class="admonition-header">Passing a masking function for `mask`<a class="admonition-anchor" href="#Passing-a-masking-function-for-mask-2e37178cea14b035" title="Permalink"></a></header><div class="admonition-body"><p>ClimaAnalysis do not support mask keyword arguments for masking functions. If you want the values of the mask to not show, then pass <code>true_val = NaN</code> as a keyword argument to <code>make_lonlat_mask</code>. The color of <code>NaN</code> is controlled by the keyword <code>nan_color</code> which can be passed for the plotting function (<code>:plot</code>).</p></div></div><p><strong>Additional arguments to the plotting and axis functions</strong></p><p><code>more_kwargs</code> can be a dictionary that maps symbols to additional options for:</p><ul><li>the axis (<code>:axis</code>)</li><li>the plotting function (<code>:plot</code>)</li><li>the colorbar (<code>:cb</code>)</li><li>the coastline (<code>:coast</code>)</li><li>the mask (<code>:mask</code>)</li></ul><p>The coastline is plotted from <code>GeoMakie.coastline</code> using the <code>lines!</code> plotting function.</p><p>The values are splatted in the relevant functions. Populate them with a Dictionary of <code>Symbol</code>s =&gt; values to pass additional options.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/ext/ClimaAnalysisGeoMakieExt.jl#L111-L167">source</a></section></details></article><article><details class="docstring" open="true"><summary id="ClimaAnalysis.Visualize.plot_bias_on_globe!"><a class="docstring-binding" href="#ClimaAnalysis.Visualize.plot_bias_on_globe!"><code>ClimaAnalysis.Visualize.plot_bias_on_globe!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">plot_bias_on_globe!(fig::Makie.Figure,
                    sim::ClimaAnalysis.OutputVar,
                    obs::ClimaAnalysis.OutputVar;
                    cmap_extrema = nanextrema(ClimaAnalysis.bias(sim, obs).data),
                    p_loc = (1, 1),
                    plot_coastline = true,
                    plot_colorbar = true,
                    mask = nothing,
                    more_kwargs)
plot_bias_on_globe!(grid_layout::Makie.GridLayout,
                    sim::ClimaAnalysis.OutputVar,
                    obs::ClimaAnalysis.OutputVar;
                    cmap_extrema = nanextrema(ClimaAnalysis.bias(sim, obs).data),
                    p_loc = (1, 1),
                    plot_coastline = true,
                    plot_colorbar = true,
                    mask = nothing,
                    more_kwargs)</code></pre><p>Plot the bias (<code>sim.data - var.data</code>) on a projected geoid. The gloal bias and root mean squared error (RMSE) are computed and can be found in the title of the plot. This function plots the returned <code>OutputVar</code> of <code>ClimaAnalysis.bias(sim, obs)</code>. See also <a href="#ClimaAnalysis.Var.bias"><code>ClimaAnalysis.bias</code></a>.</p><p>The plot comes with labels, units, and a colorbar. This function uses a constrained colormap based on the values of <code>cmap_extrema</code>.</p><p>The dimensions have to be longitude and latitude.</p><p><code>mask</code> has to be an object that can be plotted by <code>Makie.poly</code> or a masking function. <code>ClimaAnalysis</code> comes with predefined masks, check out <a href="#ClimaAnalysis.Visualize.oceanmask"><code>Visualize.oceanmask</code></a> and <a href="#ClimaAnalysis.Visualize.landmask"><code>Visualize.landmask</code></a>. Also, the corresponding mask is applied to the <code>OutputVar</code>s. For instance, using <code>Visualize.landmask</code> means <code>ClimaAnalysis.apply_landmask</code> is applied to the <code>OutputVar</code>s when computing the bias. One can also pass in <code>ClimaAnalysis.apply_landmask</code>, <code>ClimaAnalysis.apply_oceanmask</code>, or a custom masking function (<a href="#ClimaAnalysis.Var.make_lonlat_mask"><code>ClimaAnalysis.Var.make_lonlat_mask</code></a>). The masking function is used for computing the bias.</p><div class="admonition is-info" id="Passing-a-masking-function-for-mask-2e37178cea14b035"><header class="admonition-header">Passing a masking function for `mask`<a class="admonition-anchor" href="#Passing-a-masking-function-for-mask-2e37178cea14b035" title="Permalink"></a></header><div class="admonition-body"><p>ClimaAnalysis do not support mask keyword arguments for masking functions. If you want the values of the mask to not show, then pass <code>true_val = NaN</code> as a keyword argument to <code>make_lonlat_mask</code>. The color of <code>NaN</code> is controlled by the keyword <code>nan_color</code> which can be passed for the plotting function (<code>:plot</code>).</p></div></div><p><strong>Additional arguments to the plotting and axis functions</strong></p><p><code>more_kwargs</code> can be a dictionary that maps symbols to additional options for:</p><ul><li>the axis (<code>:axis</code>)</li><li>the plotting function (<code>:plot</code>)</li><li>the colorbar (<code>:cb</code>)</li><li>the coastline (<code>:coast</code>)</li><li>the mask (<code>:mask</code>)</li></ul><p>The coastline is plotted from <code>GeoMakie.coastline</code> using the <code>lines!</code> plotting function.</p><p>The values are splatted in the relevant functions. Populate them with a Dictionary of <code>Symbol</code>s =&gt; values to pass additional options.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaAnalysis.jl/blob/a3dccd4436790598bac5285348e46bcba428271f/ext/ClimaAnalysisGeoMakieExt.jl#L284-L344">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../flat/">« FlatVar</a><a class="docs-footer-nextpage" href="../howdoi/">How do I? »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Monday 9 February 2026 19:40">Monday 9 February 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
